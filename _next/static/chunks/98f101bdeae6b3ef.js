(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67458,(e,t,a)=>{"use strict";var s=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;a.c=function(e){return s.H.useMemoCache(e)}},932,(e,t,a)=>{"use strict";t.exports=e.r(67458)},16015,(e,t,a)=>{},98547,(e,t,a)=>{var s=e.i(47167);e.r(16015);var r=e.r(71645),n=r&&"object"==typeof r&&"default"in r?r:{default:r},i=void 0!==s.default&&s.default.env&&!0,c=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,a=t.name,s=void 0===a?"stylesheet":a,r=t.optimizeForSpeed,n=void 0===r?i:r;l(c(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",l("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="u">typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,a=e.prototype;return a.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},a.isOptimizeForSpeed=function(){return this._optimizeForSpeed},a.inject=function(){var e=this;if(l(!this._injected,"sheet already injected"),this._injected=!0,"u">typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},a.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},a.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},a.insertRule=function(e,t){if(l(c(e),"`insertRule` accepts only strings"),"u"<typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var a=this.getSheet();"number"!=typeof t&&(t=a.cssRules.length);try{a.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},a.replaceRule=function(e,t){if(this._optimizeForSpeed||"u"<typeof window){var a="u">typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(s){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];l(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},a.deleteRule=function(e){if("u"<typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];l(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},a.flush=function(){this._injected=!1,this._rulesCount=0,"u">typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},a.cssRules=function(){var e=this;return"u"<typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,a){return a?t=t.concat(Array.prototype.map.call(e.getSheetForTag(a).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},a.makeStyleTag=function(e,t,a){t&&l(c(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return a?r.insertBefore(s,a):r.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},h={};function p(e,t){if(!t)return"jsx-"+e;var a=String(t),s=e+a;return h[s]||(h[s]="jsx-"+d(e+"-"+a)),h[s]}function m(e,t){"u"<typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var a=e+t;return h[a]||(h[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[a]}var u=function(){function e(e){var t=void 0===e?{}:e,a=t.styleSheet,s=void 0===a?null:a,r=t.optimizeForSpeed,n=void 0!==r&&r;this._sheet=s||new o({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),s&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"u">typeof window&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var a=this.getIdAndRules(e),s=a.styleId,r=a.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var n=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=n,this._instancesCounts[s]=1},t.remove=function(e){var t=this,a=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(a in this._instancesCounts,"styleId: `"+a+"` not found"),this._instancesCounts[a]-=1,this._instancesCounts[a]<1){var s=this._fromServer&&this._fromServer[a];s?(s.parentNode.removeChild(s),delete this._fromServer[a]):(this._indices[a].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[a]),delete this._instancesCounts[a]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],a=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return a[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,a;return t=this.cssRules(),void 0===(a=e)&&(a={}),t.map(function(e){var t=e[0],s=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:a.nonce?a.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,a=e.dynamic,s=e.id;if(a){var r=p(s,a);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return m(r,e)}):[m(r,t)]}}return{styleId:p(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),x=r.createContext(null);function f(){return new u}function b(){return r.useContext(x)}x.displayName="StyleSheetContext";var g=n.default.useInsertionEffect||n.default.useLayoutEffect,y="u">typeof window?f():void 0;function j(e){var t=y||b();return t&&("u"<typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}j.dynamic=function(e){return e.map(function(e){return p(e[0],e[1])}).join(" ")},a.StyleRegistry=function(e){var t=e.registry,a=e.children,s=r.useContext(x),i=r.useState(function(){return s||t||f()})[0];return n.default.createElement(x.Provider,{value:i},a)},a.createStyleRegistry=f,a.style=j,a.useStyleRegistry=b},37902,(e,t,a)=>{t.exports=e.r(98547).style},74647,e=>{"use strict";e.i(47167);var t=e.i(43476),a=e.i(71645);let s=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:c="",children:o,iconNode:l,...d},h)=>(0,a.createElement)("svg",{ref:h,...n,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:s("lucide",c),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...l.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]])),c=(e,t)=>{let n=(0,a.forwardRef)(({className:n,...c},o)=>(0,a.createElement)(i,{ref:o,iconNode:t,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...c}));return n.displayName=r(e),n},o=c("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);class l{constructor(){this.ctx=new(window.AudioContext||window.webkitAudioContext),this.volume=.5,this.enabled=!0,this.buffers=[],this.loadSounds(["/subi-typing/sounds/correct.mp3","/subi-typing/sounds/incorrect.mp3"])}async loadSound(e){let t=await fetch(e),a=await t.arrayBuffer();return this.ctx.decodeAudioData(a)}async loadSounds(e){let t=e.map(e=>this.loadSound(e)),a=await Promise.all(t);return this.buffers.push(...a)}setVolume(e){this.volume=e}setEnabled(e){this.enabled=e}playKey(e=!1){if(!this.enabled)return;let t=this.buffers[+!!e];if(!t)return;let a=()=>{let a=this.ctx.createBufferSource();a.buffer=t,a.playbackRate.value=.9+.2*Math.random();let s=this.ctx.createGain();s.gain.setValueAtTime(this.volume*(e?.3:.5),this.ctx.currentTime),s.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+a.buffer.duration),a.connect(s).connect(this.ctx.destination),a.start()};"suspended"===this.ctx.state?this.ctx.resume().then(a):a()}playStart(){if(!this.enabled)return;let e=this.ctx.currentTime;[440,554,659].forEach((t,a)=>{let s=this.ctx.createOscillator(),r=this.ctx.createGain();s.frequency.setValueAtTime(t,e+.1*a),r.gain.setValueAtTime(.05*this.volume,e+.1*a),r.gain.exponentialRampToValueAtTime(.01,e+.1*a+.2),s.connect(r),r.connect(this.ctx.destination),s.start(e+.1*a),s.stop(e+.1*a+.2)})}playSuccess(){if(!this.enabled)return;let e=this.ctx.currentTime;[523,659,783,1046].forEach((t,a)=>{let s=this.ctx.createOscillator(),r=this.ctx.createGain();s.frequency.setValueAtTime(t,e+.08*a),r.gain.setValueAtTime(.05*this.volume,e+.08*a),r.gain.exponentialRampToValueAtTime(.01,e+.08*a+.3),s.connect(r),r.connect(this.ctx.destination),s.start(e+.08*a),s.stop(e+.08*a+.3)})}}let d=e=>new Promise((t,a)=>{if(document.querySelector(`script[src="${e}"]`))return t();let s=document.createElement("script");s.src=e,s.async=!0,s.onload=()=>t(),s.onerror=()=>a(Error(`Failed to load script: ${e}`)),document.head.appendChild(s)}),h=(e,t=5e3)=>new Promise((a,s)=>{let r=Date.now(),n=()=>{let i=window[e];i?a(i):Date.now()-r>t?s(Error(`Timeout waiting for ${e}`)):requestAnimationFrame(n)};n()}),p=null;async function m(){if(p)return p;await d("/subi-typing/libs/jszip.min.js"),await h("JSZip",3e3),await d("/subi-typing/libs/epub.min.js");let e=await Promise.race([h("ePub",3e3),h("EPUB",3e3),h("epub",3e3)]).catch(()=>null);if(!e)throw Error("EPUB library failed to initialize");return p=e,e}function u(e){return e?e.replace(/[\r\n]+/g," ").replace(/\s{2,}/g," ").replace(/\[.*?\]/g,"").replace(/\{.*?\}/g,"").replace(/\s+([.,!?;:])/g,"$1").replace(/([.,!?;:])\s*/g,"$1 ").trim():""}async function x(e,t=null){if(!e||!(e instanceof File))throw Error("Invalid file provided");if(!e.name.toLowerCase().endsWith(".epub"))throw Error("File must be an EPUB");t?.({stage:"loading",message:"Loading EPUB library..."});let a=await m();if("function"!=typeof a)throw Error("EPUB library initialization error");return t?.({stage:"reading",message:"Reading file..."}),new Promise((s,r)=>{let n=new FileReader;n.onload=async n=>{try{t?.({stage:"parsing",message:"Parsing EPUB structure..."});let r=a(n.target.result);if(!r||void 0===r.loaded)throw Error("Failed to initialize EPUB book");let[i,c]=await Promise.all([r.loaded.metadata,r.loaded.spine]);t?.({stage:"extracting",message:"Extracting chapters..."});let o=[],l=c?.items||[],d=l.length;console.log(`Found ${d} spine items`);for(let e=0;e<l.length;e++){let a=l[e];t?.({stage:"extracting",message:`Processing section ${e+1} of ${d}...`,progress:(e+1)/d});try{let e=await r.section(a.href);if(!e){console.warn(`Section ${a.href} is null`);continue}let t="";if(e.document?.body)t=e.document.body.textContent||"";else if("function"==typeof e.load)try{let a=await e.load(r.load.bind(r));a?.body?t=a.body.textContent||"":a?.documentElement&&(t=a.documentElement.textContent||"")}catch(e){console.warn(`Failed to load section ${a.href}:`,e.message)}else if(e.contents){let a=new DOMParser().parseFromString(e.contents,"text/html");t=a.body?.textContent||a.documentElement?.textContent||""}else if(e.output){let a=new DOMParser().parseFromString(e.output,"text/html");t=a.body?.textContent||""}if((t=u(t))&&t.length>=50){let s=a.title;if(!s&&e.document){let t=e.document.querySelector("h1, h2, h3, title");s=t?.textContent?.trim()}s=s||`Chapter ${o.length+1}`,o.push({title:u(s).substring(0,100),href:a.href,content:t,wordCount:t.split(/\s+/).length}),console.log(`Added chapter: ${s} (${t.length} chars)`)}else console.log(`Skipped section ${a.href}: content too short (${t?.length||0} chars)`)}catch(e){console.warn(`Error processing section ${a.href}:`,e.message)}}if(0===o.length&&r.navigation){console.log("Trying navigation/TOC approach...");try{let e=await r.loaded.navigation;if(e?.toc)for(let t of e.toc)try{let e=await r.section(t.href);if(e){let a="";e.document?.body&&(a=u(e.document.body.textContent||"")),a&&a.length>=50&&o.push({title:t.label||`Chapter ${o.length+1}`,href:t.href,content:a,wordCount:a.split(/\s+/).length})}}catch(e){console.warn("TOC item error:",e.message)}}catch(e){console.warn("Navigation approach failed:",e.message)}}if(0===o.length)throw Error("No readable chapters found. The EPUB may use an unsupported format or be DRM protected.");t?.({stage:"complete",message:"Import complete!"});let h=o.reduce((e,t)=>e+t.wordCount,0);s({title:i?.title||e.name.replace(".epub",""),author:i?.creator||"Unknown Author",chapters:o,totalWords:h,chapterCount:o.length,addedAt:Date.now()})}catch(e){r(e)}},n.onerror=()=>r(Error("Failed to read file")),n.readAsArrayBuffer(e)})}let f=null;async function b(){return f||((f=new window.Dexie("LuminaTypeDB")).version(3).stores({books:"++id, title, author, content, type, chapterIndex, chapters, addedAt",epubBooks:"++id, title, author, addedAt",readingProgress:"bookId, chapterIndex, chunkIndex, charIndex, updatedAt",achievements:"id, unlockedAt",stats:"key, value"}),f.version(2).stores({books:"++id, title, author, content, type, chapterIndex, chapters, addedAt",epubBooks:"++id, title, author, addedAt",readingProgress:"bookId, chapterIndex, chunkIndex, charIndex, updatedAt"}),f.version(1).stores({books:"++id, title, author, content, type, chapterIndex, chapters, addedAt",epubBooks:"++id, title, author, addedAt"})),f}async function g(e){return(await b()).books.add({...e,addedAt:Date.now()})}async function y(e){return(await b()).epubBooks.add({...e,addedAt:Date.now()})}async function j(){return(await b()).books.toArray()}async function v(){return(await b()).epubBooks.toArray()}async function w(e){return(await b()).books.delete(e)}async function k(e){let t=await b();return await t.readingProgress.delete(e),t.epubBooks.delete(e)}async function N(e,t){let a=await b(),s={bookId:e,chapterIndex:t.chapterIndex,chunkIndex:t.chunkIndex,charIndex:t.charIndex,totalChapters:t.totalChapters||0,totalChunks:t.totalChunks||0,chapterTitle:t.chapterTitle||"",updatedAt:Date.now()};return a.readingProgress.put(s)}async function S(){return(await b()).readingProgress.toArray()}async function C(e){let t=await b();return!await t.achievements.get(e)&&(await t.achievements.put({id:e,unlockedAt:Date.now()}),!0)}async function _(){return(await b()).achievements.toArray()}async function T(e,t){let a=await b();await a.stats.put({key:e,value:t,updatedAt:Date.now()})}async function I(e){let t=await b(),a=await t.stats.get(e);return a?.value}async function E(e,t=1){await b();let a=(await I(e)||0)+t;return await T(e,a),a}async function A(){let e=await b();return(await e.stats.toArray()).reduce((e,t)=>(e[t.key]=t.value,e),{})}async function R(){let e=await b(),[t,a,s,r,n]=await Promise.all([e.books.toArray(),e.epubBooks.toArray(),e.readingProgress.toArray(),e.achievements.toArray(),e.stats.toArray()]),i=null;try{let e=localStorage.getItem("luminatype_settings");e&&(i=JSON.parse(e))}catch(e){console.warn("Failed to export settings:",e)}return{version:1,timestamp:Date.now(),data:{books:t,epubBooks:a,readingProgress:s,achievements:r,stats:n,settings:i}}}async function z(e){if(!e||!e.data)throw Error("Invalid export package");let t=await b(),{books:a,epubBooks:s,readingProgress:r,achievements:n,stats:i,settings:c}=e.data;if(await t.transaction("rw",t.books,t.epubBooks,t.readingProgress,t.achievements,t.stats,async()=>{await Promise.all([t.books.clear(),t.epubBooks.clear(),t.readingProgress.clear(),t.achievements.clear(),t.stats.clear()]),a?.length&&await t.books.bulkAdd(a),s?.length&&await t.epubBooks.bulkAdd(s),r?.length&&await t.readingProgress.bulkAdd(r),n?.length&&await t.achievements.bulkAdd(n),i?.length&&await t.stats.bulkAdd(i)}),c)try{localStorage.setItem("luminatype_settings",JSON.stringify(c))}catch(e){console.warn("Failed to import settings:",e)}}async function M(e){let t={contents:[{parts:[{text:`Paragraph about: ${e}. ~150 words. No markdown.`}]}],systemInstruction:{parts:[{text:"Typing practice creator."}]}},a=1e3;for(let e=0;e<5;e++)try{let e=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let a=await e.json();return a.candidates?.[0]?.content?.parts?.[0]?.text.trim()}catch(t){if(4===e)throw t;await new Promise(e=>setTimeout(e,a)),a*=2}}var $=e.i(932);let P=c("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),F=c("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),O=c("keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]),B=c("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),L=c("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),D=c("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);function W(e){let a,s,r,n,i,c,o,l,d,h,p,m,u,x,f,b,g,y,j,v,w,k,N=(0,$.c)(51),{view:S,setView:C,isDark:_,setIsDark:T}=e;N[0]!==C?(a=()=>C("practice"),N[0]=C,N[1]=a):a=N[1];let I=_?"#1a1b1e":"#f8f9fa";N[2]!==I?(s=(0,t.jsx)("div",{style:{color:I},className:"w-9 h-9 bg-accent rounded-lg flex items-center justify-center font-bold text-2xl",children:"S"}),N[2]=I,N[3]=s):s=N[3],N[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("span",{className:"text-xl font-bold tracking-tighter ",children:"SubiType"}),N[4]=r):r=N[4],N[5]!==a||N[6]!==s?(n=(0,t.jsxs)("div",{className:"flex items-end gap-3 cursor-pointer",onClick:a,children:[s,r]}),N[5]=a,N[6]=s,N[7]=n):n=N[7],N[8]!==C?(i=()=>C("practice"),N[8]=C,N[9]=i):i=N[9];let E=`p-2 rounded-md ${"practice"===S&&"text-accent bg-white/5"}`;N[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(O,{size:20}),N[10]=c):c=N[10],N[11]!==i||N[12]!==E?(o=(0,t.jsx)("button",{onClick:i,className:E,title:"Practice",children:c}),N[11]=i,N[12]=E,N[13]=o):o=N[13],N[14]!==C?(l=()=>C("library"),N[14]=C,N[15]=l):l=N[15];let A=`p-2 rounded-md ${"library"===S&&"text-accent bg-white/5"}`;N[16]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(F,{size:20}),N[16]=d):d=N[16],N[17]!==l||N[18]!==A?(h=(0,t.jsx)("button",{onClick:l,className:A,title:"Library",children:d}),N[17]=l,N[18]=A,N[19]=h):h=N[19],N[20]!==C?(p=()=>C("achievements"),N[20]=C,N[21]=p):p=N[21];let R=`p-2 rounded-md ${"achievements"===S&&"text-accent bg-white/5"}`;N[22]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(D,{size:20}),N[22]=m):m=N[22],N[23]!==p||N[24]!==R?(u=(0,t.jsx)("button",{onClick:p,className:R,title:"Achievements",children:m}),N[23]=p,N[24]=R,N[25]=u):u=N[25],N[26]!==C?(x=()=>C("settings"),N[26]=C,N[27]=x):x=N[27];let z=`p-2 rounded-md ${"settings"===S&&"text-accent bg-white/5"}`;N[28]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)(P,{size:20}),N[28]=f):f=N[28],N[29]!==x||N[30]!==z?(b=(0,t.jsx)("button",{onClick:x,className:z,title:"Settings",children:f}),N[29]=x,N[30]=z,N[31]=b):b=N[31],N[32]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("div",{className:"w-px h-5 bg-[#2c2e33] mx-1"}),N[32]=g):g=N[32],N[33]!==_||N[34]!==T?(y=()=>T(!_),N[33]=_,N[34]=T,N[35]=y):y=N[35];let M=_?"Light mode":"Dark mode";return N[36]!==_?(j=_?(0,t.jsx)(B,{size:20}):(0,t.jsx)(L,{size:20}),N[36]=_,N[37]=j):j=N[37],N[38]!==y||N[39]!==M||N[40]!==j?(v=(0,t.jsx)("button",{onClick:y,className:"p-2 hover:text-accent",title:M,children:j}),N[38]=y,N[39]=M,N[40]=j,N[41]=v):v=N[41],N[42]!==h||N[43]!==u||N[44]!==b||N[45]!==v||N[46]!==o?(w=(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[o,h,u,b,g,v]}),N[42]=h,N[43]=u,N[44]=b,N[45]=v,N[46]=o,N[47]=w):w=N[47],N[48]!==w||N[49]!==n?(k=(0,t.jsxs)("nav",{className:"flex justify-between items-center px-8 py-6 max-w-7xl mx-auto",children:[n,w]}),N[48]=w,N[49]=n,N[50]=k):k=N[50],k}var U=e.i(37902);let H=c("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),q=c("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),G=c("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),K=c("skip-back",[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]]),V=c("skip-forward",[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]]),Y=c("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),J=c("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),Z=[{minWpm:0,maxWpm:15,animal:"ðŸŒ",name:"Sleepy Snail",message:"Taking it slow and steady!"},{minWpm:15,maxWpm:25,animal:"ðŸ¢",name:"Chill Turtle",message:"Slow but determined!"},{minWpm:25,maxWpm:35,animal:"ðŸ¦¥",name:"Relaxed Sloth",message:"No rush, we're vibing!"},{minWpm:35,maxWpm:45,animal:"ðŸ•",name:"Happy Dog",message:"Good pace, keep it up!"},{minWpm:45,maxWpm:55,animal:"ðŸŽ",name:"Galloping Horse",message:"Now we're moving!"},{minWpm:55,maxWpm:70,animal:"ðŸ†",name:"Swift Leopard",message:"Fast and furious!"},{minWpm:70,maxWpm:85,animal:"ðŸ¦…",name:"Soaring Eagle",message:"Flying through the text!"},{minWpm:85,maxWpm:100,animal:"ðŸš€",name:"Rocket Ship",message:"BLAZING FAST!"},{minWpm:100,maxWpm:120,animal:"âš¡",name:"Lightning Bolt",message:"ARE YOU EVEN HUMAN?!"},{minWpm:120,maxWpm:1/0,animal:"ðŸŒŸ",name:"Typing God",message:"LEGENDARY SPEED!"}];function X(e){return Z.find(t=>e>=t.minWpm&&e<t.maxWpm)||Z[0]}let Q={FIRST_WORDS:{id:"first_words",name:"First Steps",icon:"ðŸ‘¶",description:"Complete your first typing session"},SPEED_DEMON:{id:"speed_demon",name:"Speed Demon",icon:"ðŸ˜ˆ",description:"Reach 60+ WPM"},ROCKET_FINGERS:{id:"rocket_fingers",name:"Rocket Fingers",icon:"ðŸš€",description:"Reach 80+ WPM"},LIGHTNING_HANDS:{id:"lightning_hands",name:"Lightning Hands",icon:"âš¡",description:"Reach 100+ WPM"},PERFECTIONIST:{id:"perfectionist",name:"Perfectionist",icon:"ðŸ’Ž",description:"Complete a chunk with 100% accuracy"},STEADY_HANDS:{id:"steady_hands",name:"Steady Hands",icon:"ðŸŽ¯",description:"Complete 5 chunks with 95%+ accuracy"},COMBO_STARTER:{id:"combo_starter",name:"Combo Starter",icon:"ðŸ”¥",description:"Get a 10x combo"},COMBO_MASTER:{id:"combo_master",name:"Combo Master",icon:"ðŸ’¥",description:"Get a 50x combo"},COMBO_LEGEND:{id:"combo_legend",name:"Combo Legend",icon:"ðŸŒ‹",description:"Get a 100x combo"},BOOKWORM:{id:"bookworm",name:"Bookworm",icon:"ðŸ“š",description:"Complete 10 chapters"},CHAPTER_CRUSHER:{id:"chapter_crusher",name:"Chapter Crusher",icon:"ðŸ“–",description:"Complete a full chapter"},BOOK_FINISHER:{id:"book_finisher",name:"Book Finisher",icon:"ðŸ†",description:"Complete an entire book"},NIGHT_OWL:{id:"night_owl",name:"Night Owl",icon:"ðŸ¦‰",description:"Type after midnight"},EARLY_BIRD:{id:"early_bird",name:"Early Bird",icon:"ðŸ¦",description:"Type before 6 AM"},MARATHON_TYPER:{id:"marathon_typer",name:"Marathon Typer",icon:"ðŸƒ",description:"Type for 30+ minutes"},THREE_DAY_STREAK:{id:"three_day",name:"Getting Started",icon:"ðŸ“…",description:"3 day streak"},WEEK_STREAK:{id:"week_streak",name:"Weekly Warrior",icon:"ðŸ—“ï¸",description:"7 day streak"},MONTH_STREAK:{id:"month_streak",name:"Monthly Master",icon:"ðŸ“†",description:"30 day streak"}},ee=[{threshold:5,message:"Nice!",color:"#4ade80"},{threshold:10,message:"Great!",color:"#22d3ee"},{threshold:20,message:"Awesome!",color:"#a78bfa"},{threshold:30,message:"Amazing!",color:"#f472b6"},{threshold:50,message:"INCREDIBLE!",color:"#fb923c"},{threshold:75,message:"UNSTOPPABLE!",color:"#ef4444"},{threshold:100,message:"GODLIKE!!!",color:"#fbbf24"}];function et(e){let t=ee.filter(t=>e>=t.threshold);return t.length>0?t[t.length-1]:null}let ea=["#e2b714","#4ade80","#22d3ee","#a78bfa","#f472b6","#fb923c","#ef4444","#fbbf24"],es=["Master of the Keyboard","Typing Virtuoso","Key Crushing Champion","Digital Wordsmith","Finger Ninja","Button Basher Elite","Certified Keyboard Warrior","Lord of the Keys"],er=["This finger has conquered the QWERTY realm!","Officially faster than a caffeinated squirrel!","Your keyboard will never be the same.","Legend says they can type with their eyes closed.","Warning: May cause jealousy in fellow typists.","Achievement unlocked: Carpal tunnel prevention master!"];function en({text:e,userInput:s,wpm:r,accuracy:n,isFinished:i,fontSize:c,fontFamily:o,blurEnabled:l=!0,ignoreCaps:d=!1,autoSkipChars:h="",inputRef:p,onInputChange:m,onRestart:u,chunkInfo:x,sourceInfo:f,onNextChunk:b,onPrevChunk:g,onNextChapter:y,onPrevChapter:j,combo:v=0,maxCombo:w=0,recentErrors:k=0,bookProgress:N=null,onShowCertificate:S,totalStats:C=null}){let _=(0,a.useRef)(null),T=(0,a.useRef)(null),[I,E]=(0,a.useState)(!1),[A,R]=(0,a.useState)([]),[z,M]=(0,a.useState)(null),[$,P]=(0,a.useState)(!1),F=(0,a.useRef)(0),O=(0,a.useRef)(!1),B=(0,a.useRef)(0),L=(0,a.useRef)(0),D=(0,a.useRef)(e),W=(0,a.useMemo)(()=>{let t=[],a=0;return e.split(" ").forEach((s,r)=>{let n=[];for(let e=0;e<s.length;e++)n.push({char:s[e],index:a++});t.push({word:s,chars:n,wordIndex:r}),r<e.split(" ").length-1&&t.push({word:" ",chars:[{char:" ",index:a++}],isSpace:!0})}),t},[e]),Z=s.length,Q=X(r);et(v),(0,a.useEffect)(()=>{if(i&&!O.current){E(!0),R(function(e=100){let t=[];for(let a=0;a<e;a++)t.push({id:a,x:100*Math.random(),y:-10-20*Math.random(),rotation:360*Math.random(),color:ea[Math.floor(Math.random()*ea.length)],scale:.5+.5*Math.random(),speedX:(Math.random()-.5)*3,speedY:2+4*Math.random(),rotationSpeed:(Math.random()-.5)*10,shape:Math.random()>.5?"rect":"circle"});return t}(150));let e=setTimeout(()=>{E(!1),R([])},4e3);return O.current=!0,()=>clearTimeout(e)}i||(O.current=!1)},[i]),(0,a.useEffect)(()=>{let e=et(v),t=et(F.current);if(e&&(!t||e.threshold>t.threshold)){M(e);let t=setTimeout(()=>M(null),1e3);return F.current=v,()=>clearTimeout(t)}F.current=v},[v]),(0,a.useEffect)(()=>{if(k>B.current){P(!0);let e=setTimeout(()=>P(!1),150);return B.current=k,()=>clearTimeout(e)}B.current=k},[k]),(0,a.useEffect)(()=>{if(T.current&&_.current){let e=_.current,t=T.current,a=e.getBoundingClientRect(),s=t.getBoundingClientRect().top-a.top,r=a.height/2;(s>r||s<r-60)&&e.scrollTo({top:e.scrollTop+s-r+30,behavior:"smooth"})}},[Z]),(0,a.useEffect)(()=>{let e=e=>{document.activeElement===p.current||e.ctrlKey||e.altKey||e.metaKey||["Tab","Escape","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"].includes(e.key)||p.current?.focus()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[p]),(0,a.useEffect)(()=>{e!==D.current&&(D.current=e,L.current=0);let t=L.current;if(L.current=s.length,!h||i||s.length<t)return;let a=s,r=!1;for(;a.length<e.length;){let t=e[a.length];if(h.includes(t))a+=t,r=!0;else break}r&&m(a)},[s,e,h,i,m]);let ee=x?.total>1,es=!x?.hasNext,er=f?.type==="epub"&&f.chapterIndex<f.totalChapters-1,en=f?.type==="epub"&&f.chapterIndex>0;return(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col items-center justify-center min-h-[60vh] px-4",children:[$&&(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 fixed inset-0 pointer-events-none z-[60] animate-error-flash"}),f&&(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 mb-6 text-center",children:[(0,t.jsx)("p",{className:"jsx-853c95f5e353c0b3 text-xs opacity-40 uppercase tracking-widest mb-1",children:"epub"===f.type?"Reading":"Practicing"}),(0,t.jsx)("h2",{className:"jsx-853c95f5e353c0b3 text-lg font-medium opacity-70 truncate max-w-md",children:f.bookTitle}),f.chapterTitle&&(0,t.jsxs)("p",{className:"jsx-853c95f5e353c0b3 text-sm opacity-40 mt-1",children:["Ch. ",f.chapterIndex+1,": ",f.chapterTitle]})]}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex gap-10 md:gap-16 mb-12 items-end",children:[v>0&&(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col items-center group relative",children:[(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-[10px] tracking-[0.3em] uppercase opacity-30 mb-1",children:"combo"}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex items-center gap-1",children:[(0,t.jsx)(J,{size:24,className:`${v>=10?"text-orange-500 animate-pulse":"text-orange-400/50"}`}),(0,t.jsxs)("span",{className:`jsx-853c95f5e353c0b3 text-4xl font-bold tabular-nums transition-all ${v>=50?"text-orange-400 scale-110":v>=20?"text-orange-500":"text-orange-600/70"}`,children:[v,"x"]})]}),z&&(0,t.jsx)("div",{style:{color:z.color},className:"jsx-853c95f5e353c0b3 absolute -top-8 left-1/2 -translate-x-1/2 text-lg font-black uppercase animate-bounce whitespace-nowrap",children:z.message})]}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col items-center group",children:[(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-[10px] tracking-[0.3em] uppercase opacity-30 mb-1 group-hover:opacity-50 transition-opacity",children:"wpm"}),(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-5xl font-light tabular-nums tracking-tight text-accent transition-all",children:r})]}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col items-center group",children:[(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-[10px] tracking-[0.3em] uppercase opacity-30 mb-1 group-hover:opacity-50 transition-opacity",children:"accuracy"}),(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3 text-5xl font-light tabular-nums tracking-tight text-accent transition-all",children:[n,(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-2xl opacity-50",children:"%"})]})]}),r>0&&(0,t.jsxs)("div",{title:Q.message,className:"jsx-853c95f5e353c0b3 flex flex-col items-center group",children:[(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-[10px] tracking-[0.3em] uppercase opacity-30 mb-1",children:"speed"}),(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 text-4xl",children:Q.animal}),(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-[9px] opacity-40 mt-1",children:Q.name})]})]}),(0,t.jsxs)("div",{onClick:()=>p.current?.focus(),className:"jsx-853c95f5e353c0b3 relative w-full max-w-4xl cursor-text",children:[(0,t.jsx)("div",{style:{background:"linear-gradient(to bottom, var(--background, #1a1b1e) 0%, transparent 100%)"},className:"jsx-853c95f5e353c0b3 absolute top-0 left-0 right-0 h-20 z-10 pointer-events-none rounded-2xl"}),(0,t.jsx)("div",{style:{background:"linear-gradient(to top, var(--background, #1a1b1e) 0%, transparent 100%)"},className:"jsx-853c95f5e353c0b3 absolute bottom-0 left-0 right-0 h-20 z-10 pointer-events-none rounded-2xl"}),(0,t.jsx)("div",{ref:_,style:{fontSize:`${c}px`,lineHeight:"1.8"},className:`jsx-853c95f5e353c0b3 relative max-h-[280px] overflow-hidden px-4 py-16 ${o} rounded-2xl`,children:(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 flex flex-wrap justify-center",children:W.map((a,r)=>{let n=a.chars[0]?.index??0,i=a.chars[a.chars.length-1]?.index??0,c=Z>=n&&Z<=i+1;return(0,t.jsx)("span",{ref:c?T:null,className:`jsx-853c95f5e353c0b3 inline-block ${a.isSpace?"":"mx-[0.1em]"} transition-all duration-200`,children:a.chars.map(({char:a,index:r})=>{let n=(t=>{if(t<s.length){var a,r;return(a=s[t],r=e[t],a&&r&&(d?a.toLowerCase()===r.toLowerCase():a===r))?"correct":"incorrect"}if(t===s.length)return"current";if(!l)return"upcoming";let n=t-s.length;return n<=10?"near":n<=30?"medium":"far"})(r);return(0,t.jsxs)("span",{className:`jsx-853c95f5e353c0b3 
                          relative inline-block transition-all duration-150
                          ${"correct"===n?"text-accent":""}
                          ${"incorrect"===n?"text-red-400 after:absolute after:bottom-0 after:left-0 after:right-0 after:h-[2px] after:bg-red-400":""}
                          ${"current"===n?"text-current":""}
                          ${"upcoming"===n?"opacity-50":""}
                          ${"near"===n?"opacity-70":""}
                          ${"medium"===n?"opacity-40 blur-[0.5px]":""}
                          ${"far"===n?"opacity-20 blur-[1px]":""}
                        `,children:["current"===n&&(0,t.jsx)("span",{style:{boxShadow:"0 0 8px var(--accent, #e2b714), 0 0 16px var(--accent, #e2b714)"},className:"jsx-853c95f5e353c0b3 absolute left-0 top-[0.1em] bottom-[0.1em] w-[2px] bg-accent animate-caret"})," "===a?"Â ":a]},r)})},r)})})}),(0,t.jsx)("input",{ref:p,type:"text",autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",value:s,onChange:e=>!i&&m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),u()),i&&(("ArrowRight"===e.key||"Enter"===e.key)&&(e.preventDefault(),x?.hasNext?b():f?.type==="epub"&&f.chapterIndex<f.totalChapters-1&&y()),"ArrowLeft"===e.key&&(e.preventDefault(),x?.hasPrev&&g()))},className:"jsx-853c95f5e353c0b3 fixed opacity-0 pointer-events-none -top-[9999px]"})]}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 w-full max-w-lg mt-10 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3",children:[(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 h-[3px] bg-white/5 rounded-full overflow-hidden",children:(0,t.jsx)("div",{style:{width:`${s.length/e.length*100}%`,boxShadow:"0 0 10px var(--accent, #e2b714)"},className:"jsx-853c95f5e353c0b3 h-full bg-accent/60 transition-all duration-150 ease-out rounded-full"})}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex justify-between mt-2 text-[10px] opacity-30 tracking-widest uppercase",children:[(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3",children:[s.length," / ",e.length," chars"]}),(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3",children:[Math.round(s.length/e.length*100),"%"]})]})]}),ee&&(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col items-center gap-3",children:[(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:g,disabled:!x?.hasPrev,title:"Previous chunk",className:"jsx-853c95f5e353c0b3 p-2 rounded-lg hover:bg-white/5 disabled:opacity-20 disabled:cursor-not-allowed transition-all",children:(0,t.jsx)(q,{size:20})}),x?.total>15?(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 w-48 h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,t.jsx)("div",{style:{width:`${x.current/x.total*100}%`},className:"jsx-853c95f5e353c0b3 h-full bg-accent transition-all duration-300"})}),(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3 text-xs tabular-nums opacity-50",children:[x.current," / ",x.total]})]}):(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 flex items-center gap-2",children:Array.from({length:x?.total||0},(e,a)=>(0,t.jsx)("div",{className:`jsx-853c95f5e353c0b3 w-2 h-2 rounded-full transition-all ${a<x?.current?"bg-accent":a===x?.current-1?"bg-accent ring-2 ring-accent/30":"bg-white/10"}`},a))}),(0,t.jsx)("button",{onClick:b,disabled:!x?.hasNext,title:"Next chunk",className:"jsx-853c95f5e353c0b3 p-2 rounded-lg hover:bg-white/5 disabled:opacity-20 disabled:cursor-not-allowed transition-all",children:(0,t.jsx)(G,{size:20})})]}),x?.total>15&&x?.total<=50&&(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 flex flex-wrap justify-center gap-1.5 max-w-xs",children:Array.from({length:x?.total||0},(e,a)=>(0,t.jsx)("div",{className:`jsx-853c95f5e353c0b3 w-1.5 h-1.5 rounded-full transition-all ${a<x?.current?"bg-accent":a===x?.current-1?"bg-accent ring-1 ring-accent/50":"bg-white/10"}`},a))})]}),f?.type==="epub"&&(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex items-center justify-center gap-4 pt-2",children:[(0,t.jsxs)("button",{onClick:j,disabled:!en,title:"Previous chapter",className:"jsx-853c95f5e353c0b3 flex items-center gap-1 px-3 py-1 text-xs opacity-50 hover:opacity-100 disabled:opacity-20 disabled:cursor-not-allowed transition-all",children:[(0,t.jsx)(K,{size:14}),(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3",children:"Prev Chapter"})]}),(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3 text-xs opacity-30",children:["Chapter ",f.chapterIndex+1," of ",f.totalChapters]}),(0,t.jsxs)("button",{onClick:y,disabled:!er,title:"Next chapter",className:"jsx-853c95f5e353c0b3 flex items-center gap-1 px-3 py-1 text-xs opacity-50 hover:opacity-100 disabled:opacity-20 disabled:cursor-not-allowed transition-all",children:[(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3",children:"Next Chapter"}),(0,t.jsx)(V,{size:14})]})]}),N&&f?.type==="epub"&&(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 mt-6 pt-4 border-t border-white/5",children:[(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-[10px] uppercase tracking-widest opacity-30",children:"Book Progress"}),(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3 text-xs opacity-50",children:[Math.round(N.percentage),"% complete"]})]}),(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 h-2 bg-white/5 rounded-full overflow-hidden",children:(0,t.jsx)("div",{style:{width:`${N.percentage}%`},className:"jsx-853c95f5e353c0b3 h-full bg-gradient-to-r from-accent/60 to-accent transition-all duration-500"})}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex justify-between mt-2 text-[9px] opacity-30",children:[(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3",children:[N.completedChapters," / ",N.totalChapters," chapters"]}),(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3",children:["~",N.estimatedRemaining," remaining"]})]})]})]}),I&&(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 fixed inset-0 pointer-events-none z-500 overflow-hidden",children:A.map(e=>(0,t.jsx)("div",{style:{left:`${e.x}%`,top:`${e.y}%`,transform:`rotate(${e.rotation}deg) scale(${e.scale})`,"--speed-x":e.speedX,"--speed-y":e.speedY,"--rotation-speed":e.rotationSpeed},className:"jsx-853c95f5e353c0b3 absolute animate-confetti-fall",children:"rect"===e.shape?(0,t.jsx)("div",{style:{backgroundColor:e.color},className:"jsx-853c95f5e353c0b3 w-3 h-2"}):(0,t.jsx)("div",{style:{backgroundColor:e.color},className:"jsx-853c95f5e353c0b3 w-2 h-2 rounded-full"})},e.id))}),i&&(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center animate-in fade-in duration-300",children:(0,t.jsxs)("div",{style:{backgroundColor:"var(--background, #1a1b1e)"},className:"jsx-853c95f5e353c0b3 border border-accent/20 rounded-2xl p-10 max-w-md w-full mx-4 text-center animate-in zoom-in-95 duration-300",children:[(0,t.jsx)("div",{className:"jsx-853c95f5e353c0b3 text-6xl mb-4 animate-bounce",children:Q.animal}),(0,t.jsx)("p",{className:"jsx-853c95f5e353c0b3 text-sm font-bold text-accent mb-1",children:Q.name}),(0,t.jsx)("p",{className:"jsx-853c95f5e353c0b3 text-xs opacity-50 mb-6",children:Q.message}),(0,t.jsx)("h2",{className:"jsx-853c95f5e353c0b3 text-xl font-bold mb-2",children:es&&!er?"ðŸŽ‰ Book Complete!":es?"Chapter Complete!":"Chunk Complete!"}),ee&&(0,t.jsxs)("p",{className:"jsx-853c95f5e353c0b3 text-sm opacity-40 mb-4",children:[x?.current," of ",x?.total," chunks"]}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex justify-center gap-8 mb-6",children:[(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col items-center",children:[(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-[10px] tracking-[0.3em] uppercase opacity-40 mb-1",children:"wpm"}),(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-4xl font-light text-accent",children:r})]}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col items-center",children:[(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-[10px] tracking-[0.3em] uppercase opacity-40 mb-1",children:"accuracy"}),(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3 text-4xl font-light text-accent",children:[n,"%"]})]}),w>0&&(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col items-center",children:[(0,t.jsx)("span",{className:"jsx-853c95f5e353c0b3 text-[10px] tracking-[0.3em] uppercase opacity-40 mb-1",children:"max combo"}),(0,t.jsxs)("span",{className:"jsx-853c95f5e353c0b3 text-4xl font-light text-orange-500",children:[w,"x"]})]})]}),(0,t.jsxs)("div",{className:"jsx-853c95f5e353c0b3 flex flex-col gap-3",children:[x?.hasNext?(0,t.jsxs)("button",{onClick:b,className:"jsx-853c95f5e353c0b3 inline-flex items-center justify-center gap-2 px-6 py-3 bg-accent text-[#1a1b1e] rounded-xl hover:scale-105 active:scale-95 transition-all font-bold uppercase tracking-widest text-xs",children:["Next Chunk",(0,t.jsx)(G,{size:16})]}):er?(0,t.jsxs)("button",{onClick:y,className:"jsx-853c95f5e353c0b3 inline-flex items-center justify-center gap-2 px-6 py-3 bg-accent text-[#1a1b1e] rounded-xl hover:scale-105 active:scale-95 transition-all font-bold uppercase tracking-widest text-xs",children:["Next Chapter",(0,t.jsx)(V,{size:16})]}):f?.type==="epub"?(0,t.jsxs)("button",{onClick:S,className:"jsx-853c95f5e353c0b3 inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-accent to-orange-500 text-[#1a1b1e] rounded-xl hover:scale-105 active:scale-95 transition-all font-bold uppercase tracking-widest text-xs",children:[(0,t.jsx)(Y,{size:16}),"Get Certificate!"]}):null,(0,t.jsxs)("button",{onClick:u,className:"jsx-853c95f5e353c0b3 inline-flex items-center justify-center gap-2 px-6 py-3 bg-white/5 hover:bg-white/10 rounded-xl transition-all font-bold uppercase tracking-widest text-xs",children:[(0,t.jsx)(H,{size:14}),"Try Again"]})]}),(0,t.jsx)("p",{className:"jsx-853c95f5e353c0b3 text-[10px] opacity-30 mt-6 uppercase tracking-widest",children:"Press Enter to continue â€¢ Shift+Enter to restart"})]})}),(0,t.jsx)(U.default,{id:"853c95f5e353c0b3",children:"@keyframes caret-blink{0%,70%{opacity:1}71%,to{opacity:0}}.animate-caret{animation:1s ease-in-out infinite caret-blink}@keyframes confetti-fall{0%{opacity:1;transform:translateY(0)translate(0)rotate(0)}to{transform:translateY(100vh)translateX(calc(var(--speed-x,0)*100px))rotate(calc(var(--rotation-speed,0)*360deg));opacity:0}}.animate-confetti-fall{animation:3s ease-out forwards confetti-fall}@keyframes error-flash{0%{background-color:#ef444426}to{background-color:#0000}}.animate-error-flash{animation:.15s ease-out forwards error-flash}@keyframes combo-pop{0%{opacity:0;transform:scale(.5)}50%{transform:scale(1.2)}to{opacity:1;transform:scale(1)}}.animate-combo-pop{animation:.3s ease-out forwards combo-pop}@keyframes fire-pulse{0%,to{filter:brightness()}50%{filter:brightness(1.3)drop-shadow(0 0 8px orange)}}.animate-fire{animation:.5s ease-in-out infinite fire-pulse}"})]})}let ei=c("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),ec=c("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),eo=c("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),el=c("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),ed=c("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),eh=c("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ep=c("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),em=c("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function eu({books:e,epubBooks:s,prompt:r,isGenerating:n,onPromptChange:i,onGenerate:c,onSelectBook:l,onDeleteBook:d,onUploadEpub:h,onSelectChapter:p,onSelectEpubBook:m,readingProgressMap:u={},onResumeBook:x,onStartFromBeginning:f}){let b=(0,a.useRef)(null),[g,y]=(0,a.useState)(null),[j,v]=(0,a.useState)(!1),[w,k]=(0,a.useState)(null),N=async e=>{let t=e.target.files?.[0];if(t){v(!0),k({stage:"starting",message:"Starting import...",progress:0});try{await h(t,e=>{k(e)})}finally{v(!1),k(null),b.current&&(b.current.value="")}}};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"bg-accent/5 border border-accent/20 rounded-2xl p-6 mb-12 flex flex-col md:flex-row gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,t.jsx)(ei,{size:18,className:"text-accent"})," AI Snippet Generator"]}),(0,t.jsx)("p",{className:"text-xs opacity-60",children:"Custom practice text via Gemini AI."})]}),(0,t.jsxs)("div",{className:"flex w-full md:w-auto gap-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"coming soon...",className:"bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-sm flex-1 md:w-64 focus:outline-none focus:border-accent disabled disabled:opacity-50",value:r,disabled:!0,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&c()}),(0,t.jsxs)("button",{onClick:c,disabled:n||!r.trim(),className:"bg-accent text-[#1a1b1e] px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-widest hover:opacity-90 transition-all flex items-center gap-2 disabled:opacity-50",children:[n?(0,t.jsx)(eo,{className:"animate-spin",size:14}):(0,t.jsx)(ec,{size:14})," Generate"]})]})]}),(0,t.jsxs)("div",{className:"bg-accent/5 border border-accent/20 rounded-2xl p-6 mb-12",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,t.jsx)(ed,{size:18,className:"text-accent"})," Import EPUB Book"]}),(0,t.jsx)("p",{className:"text-xs opacity-60",children:"Import books and practice typing by chapter."})]}),(0,t.jsx)("input",{type:"file",accept:".epub",ref:b,onChange:N,className:"hidden",disabled:j}),(0,t.jsx)("button",{onClick:()=>b.current?.click(),disabled:j,className:"bg-[#2c2e33] hover:bg-[#3a3d44] text-white px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eo,{className:"animate-spin",size:14})," Importing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ed,{size:14})," Choose EPUB"]})})]}),w&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-black/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(eo,{className:"animate-spin text-accent",size:16}),(0,t.jsx)("span",{className:"text-sm",children:w.message})]}),"number"==typeof w.progress&&(0,t.jsx)("div",{className:"w-full bg-black/30 rounded-full h-2 overflow-hidden",children:(0,t.jsx)("div",{className:"bg-accent h-full transition-all duration-300 ease-out",style:{width:`${100*w.progress}%`}})})]})]}),s.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest opacity-50 mb-4 flex items-center gap-2",children:[(0,t.jsx)(F,{size:14})," EPUB Books (",s.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:s.map(e=>{let a=u[e.id],s=a&&(a.chapterIndex>0||a.chunkIndex>0||a.charIndex>0);return(0,t.jsxs)("div",{className:"border border-[#2c2e33] rounded-xl overflow-hidden hover:border-accent/30 transition-colors",children:[(0,t.jsxs)("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-white/5",onClick:()=>y(g===e.id?null:e.id),children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-lg font-bold truncate pr-4",children:e.title}),(0,t.jsxs)("p",{className:"text-xs opacity-40 flex items-center gap-2",children:[(0,t.jsx)("span",{children:e.author}),(0,t.jsx)("span",{className:"opacity-50",children:"â€¢"}),(0,t.jsxs)("span",{children:[e.chapters?.length||0," chapters"]}),e.totalWords&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"opacity-50",children:"â€¢"}),(0,t.jsxs)("span",{children:[e.totalWords.toLocaleString()," words"]})]})]}),s&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-1.5 flex-1 max-w-48 bg-black/30 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-accent/70 transition-all",style:{width:`${(a.chapterIndex/(e.chapters?.length||1)*100).toFixed(1)}%`}})}),(0,t.jsxs)("span",{className:"text-[10px] text-accent/80 font-mono",children:["Ch ",a.chapterIndex+1,"/",e.chapters?.length||0,a.chapterTitle&&(0,t.jsxs)("span",{className:"opacity-60 ml-1",children:["â€¢ ",a.chapterTitle.slice(0,20),a.chapterTitle.length>20?"...":""]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g===e.id?(0,t.jsx)(eh,{size:18}):(0,t.jsx)(G,{size:18}),s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:t=>{t.stopPropagation(),x(e)},className:"bg-accent text-[#1a1b1e] px-3 py-1 rounded font-bold text-xs hover:opacity-90 transition-opacity flex items-center gap-1",children:[(0,t.jsx)(em,{size:12})," Resume"]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),f(e)},className:"bg-[#2c2e33] hover:bg-[#3a3d44] text-white px-3 py-1 rounded font-bold text-xs transition-colors flex items-center gap-1",title:"Start from beginning",children:(0,t.jsx)(H,{size:12})})]}):(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),m(e)},className:"bg-accent text-[#1a1b1e] px-3 py-1 rounded font-bold text-xs hover:opacity-90 transition-opacity",children:"Start"}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e.id,"epub")},className:"p-2 text-red-500/50 hover:text-red-500 transition-colors",children:(0,t.jsx)(el,{size:16})})]})]}),g===e.id&&e.chapters&&(0,t.jsx)("div",{className:"bg-black/20 border-t border-[#2c2e33] max-h-64 overflow-y-auto",children:e.chapters.map((r,n)=>{let i=s&&a.chapterIndex===n,c=s&&a.chapterIndex>n;return(0,t.jsxs)("div",{className:`p-3 hover:bg-white/5 cursor-pointer flex items-center gap-3 border-b border-[#2c2e33] last:border-0 transition-colors ${i?"bg-accent/10":""} ${c?"bg-green-500/5":""}`,onClick:()=>p(e,n),children:[(0,t.jsx)("span",{className:`text-xs font-mono w-8 ${i?"text-accent":""} ${c?"text-green-500":""} ${!i&&!c?"opacity-40":""}`,children:n+1}),(0,t.jsx)("span",{className:`text-sm truncate flex-1 ${i?"text-accent font-medium":""} ${c?"text-green-500":""}`,children:r.title}),c&&(0,t.jsx)(o,{size:14,className:"text-green-500 flex-shrink-0"}),i&&(0,t.jsxs)("span",{className:"text-[10px] text-accent/80 font-mono",children:["Chunk ",a.chunkIndex+1]}),r.wordCount&&(0,t.jsxs)("span",{className:"text-xs opacity-30",children:[r.wordCount.toLocaleString()," words"]})]},n)})})]},e.id)})})]}),e.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest opacity-50 mb-4 flex items-center gap-2",children:[(0,t.jsx)(ep,{size:14})," AI Generated Snippets (",e.length,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:e.map(e=>(0,t.jsxs)("div",{className:"group relative p-8 border border-[#2c2e33] rounded-xl hover:border-accent cursor-pointer bg-white/2 transition-colors",onClick:()=>l(e),children:[(0,t.jsx)("h3",{className:"text-xl font-bold truncate pr-8",children:e.title}),(0,t.jsx)("p",{className:"text-sm opacity-40 mt-1",children:e.author}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e.id)},className:"absolute top-8 right-8 opacity-0 group-hover:opacity-100 p-2 text-red-500/50 hover:text-red-500 transition-all",children:(0,t.jsx)(el,{size:18})})]},e.id))})]}),0===s.length&&0===e.length&&(0,t.jsxs)("div",{className:"text-center py-16 opacity-50",children:[(0,t.jsx)(F,{size:48,className:"mx-auto mb-4 opacity-30"}),(0,t.jsx)("p",{className:"text-sm",children:"No books yet. Import an EPUB or generate AI text to get started."})]})]})}let ex=c("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),ef=c("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),eb=c("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),eg=c("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ey=c("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ej=c("case-sensitive",[["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M22 9v7",key:"pvm9v3"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}],["circle",{cx:"18.5",cy:"12.5",r:"3.5",key:"z97x68"}]]);function ev(e){let s,r,n,i,c,o,l,d,h,p,m,u,x,f,b,g,y,j,v,w,k,N,S,C,_,T,I,E,A,R,z,M,P,F,O,B,L,D,W,U,H,q,G,K,Y,J,Z,X,Q,ee,et,ea,es,er,en,ei,ec,eo,eh,ep,em,eu,ev,ew,ek,eN,eS,eC,e_,eT,eI,eE=(0,$.c)(156),{soundEnabled:eA,volume:eR,fontSize:ez,fontFamily:eM,blurEnabled:e$,backgroundImage:eP,backgroundOpacity:eF,backgroundBlur:eO,ignoreCaps:eB,autoSkipChars:eL,onSoundToggle:eD,onVolumeChange:eW,onFontFamilyChange:eU,onFontSizeChange:eH,onBlurToggle:eq,onBackgroundImageChange:eG,onBackgroundOpacityChange:eK,onBackgroundBlurChange:eV,onBackgroundImageRemove:eY,onIgnoreCapsToggle:eJ,onAutoSkipCharsChange:eZ,onExportData:eX,onImportData:eQ}=e,e0=(0,a.useRef)(null);eE[0]!==eG?(s=e=>{let t=e.target.files?.[0];if(t){if(t.size>0xa00000)return void alert("Image size should be less than 10MB");let e=new FileReader;e.onload=e=>{eG(e.target.result)},e.readAsDataURL(t)}e0.current&&(e0.current.value="")},eE[0]=eG,eE[1]=s):s=eE[1];let e1=s;eE[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold opacity-30 mb-8",children:"Audio Settings"}),eE[2]=r):r=eE[2],eE[3]!==eA?(n=eA?(0,t.jsx)(ex,{size:20,className:"text-accent"}):(0,t.jsx)(ef,{size:20,className:"opacity-30"}),eE[3]=eA,eE[4]=n):n=eE[4],eE[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold",children:"Typing Sounds"}),(0,t.jsx)("p",{className:"text-[10px] opacity-40 uppercase tracking-wider",children:"Mechanical Switch Synthesis"})]}),eE[5]=i):i=eE[5],eE[6]!==n?(c=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[n,i]}),eE[6]=n,eE[7]=c):c=eE[7];let e3=`w-12 h-6 rounded-full transition-all relative ${eA?"bg-accent":"bg-[#2c2e33]"}`,e5=`absolute top-1 w-4 h-4 rounded-full bg-[#1a1b1e] transition-all ${eA?"left-7":"left-1"}`;eE[8]!==e5?(o=(0,t.jsx)("div",{className:e5}),eE[8]=e5,eE[9]=o):o=eE[9],eE[10]!==eD||eE[11]!==e3||eE[12]!==o?(l=(0,t.jsx)("button",{onClick:eD,className:e3,children:o}),eE[10]=eD,eE[11]=e3,eE[12]=o,eE[13]=l):l=eE[13],eE[14]!==c||eE[15]!==l?(d=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[c,l]}),eE[14]=c,eE[15]=l,eE[16]=d):d=eE[16],eE[17]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)("span",{children:"Volume"}),eE[17]=h):h=eE[17],eE[18]!==eR?(p=Math.round(100*eR),eE[18]=eR,eE[19]=p):p=eE[19],eE[20]!==p?(m=(0,t.jsxs)("div",{className:"flex justify-between text-[10px] uppercase font-bold opacity-30",children:[h,(0,t.jsxs)("span",{children:[p,"%"]})]}),eE[20]=p,eE[21]=m):m=eE[21],eE[22]!==eW?(u=e=>eW(parseFloat(e.target.value)),eE[22]=eW,eE[23]=u):u=eE[23],eE[24]!==u||eE[25]!==eR?(x=(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:eR,onChange:u,className:"w-full h-1.5 bg-[#2c2e33] rounded-lg appearance-none cursor-pointer accent-accent"}),eE[24]=u,eE[25]=eR,eE[26]=x):x=eE[26],eE[27]!==m||eE[28]!==x?(f=(0,t.jsxs)("div",{className:"space-y-4",children:[m,x]}),eE[27]=m,eE[28]=x,eE[29]=f):f=eE[29],eE[30]!==d||eE[31]!==f?(b=(0,t.jsxs)("section",{children:[r,(0,t.jsxs)("div",{className:"bg-white/5 border border-[#2c2e33] rounded-xl p-6 space-y-8",children:[d,f]})]}),eE[30]=d,eE[31]=f,eE[32]=b):b=eE[32],eE[33]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold opacity-30 mb-8",children:"Visual Effects"}),eE[33]=g):g=eE[33],eE[34]!==e$?(y=e$?(0,t.jsx)(eb,{size:20,className:"text-accent"}):(0,t.jsx)(eg,{size:20,className:"opacity-30"}),eE[34]=e$,eE[35]=y):y=eE[35],eE[36]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold",children:"Text Blur Effect"}),(0,t.jsx)("p",{className:"text-[10px] opacity-40 uppercase tracking-wider",children:"Blur upcoming text while typing"})]}),eE[36]=j):j=eE[36],eE[37]!==y?(v=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[y,j]}),eE[37]=y,eE[38]=v):v=eE[38];let e2=`w-12 h-6 rounded-full transition-all relative ${e$?"bg-accent":"bg-[#2c2e33]"}`,e4=`absolute top-1 w-4 h-4 rounded-full bg-[#1a1b1e] transition-all ${e$?"left-7":"left-1"}`;eE[39]!==e4?(w=(0,t.jsx)("div",{className:e4}),eE[39]=e4,eE[40]=w):w=eE[40],eE[41]!==eq||eE[42]!==e2||eE[43]!==w?(k=(0,t.jsx)("button",{onClick:eq,className:e2,children:w}),eE[41]=eq,eE[42]=e2,eE[43]=w,eE[44]=k):k=eE[44],eE[45]!==v||eE[46]!==k?(N=(0,t.jsxs)("section",{children:[g,(0,t.jsx)("div",{className:"bg-white/5 border border-[#2c2e33] rounded-xl p-6 space-y-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[v,k]})})]}),eE[45]=v,eE[46]=k,eE[47]=N):N=eE[47],eE[48]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold opacity-30 mb-8",children:"Typing Behavior"}),eE[48]=S):S=eE[48];let e8=eB?"opacity-30":"text-accent";eE[49]!==e8?(C=(0,t.jsx)(ej,{size:20,className:e8}),eE[49]=e8,eE[50]=C):C=eE[50],eE[51]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold",children:"Ignore Capital Letters"}),(0,t.jsx)("p",{className:"text-[10px] opacity-40 uppercase tracking-wider",children:"Treat uppercase and lowercase as same"})]}),eE[51]=_):_=eE[51],eE[52]!==C?(T=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[C,_]}),eE[52]=C,eE[53]=T):T=eE[53];let e9=`w-12 h-6 rounded-full transition-all relative ${eB?"bg-accent":"bg-[#2c2e33]"}`,e6=`absolute top-1 w-4 h-4 rounded-full bg-[#1a1b1e] transition-all ${eB?"left-7":"left-1"}`;eE[54]!==e6?(I=(0,t.jsx)("div",{className:e6}),eE[54]=e6,eE[55]=I):I=eE[55],eE[56]!==eJ||eE[57]!==e9||eE[58]!==I?(E=(0,t.jsx)("button",{onClick:eJ,className:e9,children:I}),eE[56]=eJ,eE[57]=e9,eE[58]=I,eE[59]=E):E=eE[59],eE[60]!==T||eE[61]!==E?(A=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[T,E]}),eE[60]=T,eE[61]=E,eE[62]=A):A=eE[62];let e7=eL?"text-accent":"opacity-30";eE[63]!==e7?(R=(0,t.jsx)(V,{size:20,className:e7}),eE[63]=e7,eE[64]=R):R=eE[64],eE[65]===Symbol.for("react.memo_cache_sentinel")?(z=(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold",children:"Auto Skip Characters"}),(0,t.jsx)("p",{className:"text-[10px] opacity-40 uppercase tracking-wider",children:"Automatically fill these characters"})]}),eE[65]=z):z=eE[65],eE[66]!==R?(M=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[R,z]}),eE[66]=R,eE[67]=M):M=eE[67],eE[68]!==eZ?(P=e=>eZ(e.target.value),eE[68]=eZ,eE[69]=P):P=eE[69],eE[70]!==eL||eE[71]!==P?(F=(0,t.jsx)("input",{type:"text",value:eL,onChange:P,placeholder:"e.g., '\"<>/;|",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-sm font-mono focus:outline-none focus:border-accent placeholder:opacity-30"}),eE[70]=eL,eE[71]=P,eE[72]=F):F=eE[72],eE[73]===Symbol.for("react.memo_cache_sentinel")?(O=(0,t.jsxs)("p",{className:"text-[10px] opacity-30",children:["Common: ",(0,t.jsx)("code",{className:"bg-white/5 px-1 rounded",children:"'\"<>/;|\\"})," â€” Enter the exact characters to skip"]}),eE[73]=O):O=eE[73],eE[74]!==M||eE[75]!==F?(B=(0,t.jsxs)("div",{className:"space-y-4",children:[M,F,O]}),eE[74]=M,eE[75]=F,eE[76]=B):B=eE[76],eE[77]!==A||eE[78]!==B?(L=(0,t.jsxs)("section",{children:[S,(0,t.jsxs)("div",{className:"bg-white/5 border border-[#2c2e33] rounded-xl p-6 space-y-8",children:[A,B]})]}),eE[77]=A,eE[78]=B,eE[79]=L):L=eE[79],eE[80]===Symbol.for("react.memo_cache_sentinel")?(D=(0,t.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold opacity-30 mb-8",children:"Background"}),eE[80]=D):D=eE[80];let te=eP?"text-accent":"opacity-30";eE[81]!==te?(W=(0,t.jsx)(ey,{size:20,className:te}),eE[81]=te,eE[82]=W):W=eE[82],eE[83]===Symbol.for("react.memo_cache_sentinel")?(U=(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold",children:"Custom Background"}),(0,t.jsx)("p",{className:"text-[10px] opacity-40 uppercase tracking-wider",children:"Upload an image (max 10MB)"})]}),eE[83]=U):U=eE[83],eE[84]!==W?(H=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[W,U]}),eE[84]=W,eE[85]=H):H=eE[85],eE[86]!==e1?(q=(0,t.jsx)("input",{type:"file",ref:e0,accept:"image/*",onChange:e1,className:"hidden"}),eE[86]=e1,eE[87]=q):q=eE[87],eE[88]!==eO||eE[89]!==eP||eE[90]!==eF||eE[91]!==eV||eE[92]!==eY||eE[93]!==eK?(G=eP?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative rounded-lg overflow-hidden h-32 bg-black/20",children:[(0,t.jsx)("img",{src:eP,alt:"Background preview",className:"w-full h-full object-cover",style:{opacity:eF,filter:eO>0?`blur(${eO}px)`:"none",transform:eO>0?"scale(1.1)":"none"}}),(0,t.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 hover:opacity-100 transition-opacity",children:[(0,t.jsxs)("button",{onClick:()=>e0.current?.click(),className:"px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-xs font-bold uppercase tracking-wider mr-2 transition-colors",children:[(0,t.jsx)(ed,{size:14,className:"inline mr-1"}),"Change"]}),(0,t.jsxs)("button",{onClick:eY,className:"px-3 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg text-xs font-bold uppercase tracking-wider transition-colors",children:[(0,t.jsx)(el,{size:14,className:"inline mr-1"}),"Remove"]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-[10px] uppercase font-bold opacity-30",children:[(0,t.jsx)("span",{children:"Background Opacity"}),(0,t.jsxs)("span",{children:[Math.round(100*eF),"%"]})]}),(0,t.jsx)("input",{type:"range",min:"0.05",max:"1",step:"0.05",value:eF,onChange:e=>eK(parseFloat(e.target.value)),className:"w-full h-1.5 bg-[#2c2e33] rounded-lg appearance-none cursor-pointer accent-accent"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-[10px] uppercase font-bold opacity-30",children:[(0,t.jsx)("span",{children:"Background Blur"}),(0,t.jsxs)("span",{children:[eO,"px"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"30",step:"1",value:eO,onChange:e=>eV(parseInt(e.target.value)),className:"w-full h-1.5 bg-[#2c2e33] rounded-lg appearance-none cursor-pointer accent-accent"})]})]}):(0,t.jsxs)("button",{onClick:()=>e0.current?.click(),className:"w-full py-8 border-2 border-dashed border-[#2c2e33] hover:border-accent/50 rounded-xl transition-colors flex flex-col items-center gap-2 group",children:[(0,t.jsx)(ed,{size:24,className:"opacity-30 group-hover:opacity-60 transition-opacity"}),(0,t.jsx)("span",{className:"text-xs opacity-40 group-hover:opacity-60 uppercase tracking-wider transition-opacity",children:"Click to upload image"})]}),eE[88]=eO,eE[89]=eP,eE[90]=eF,eE[91]=eV,eE[92]=eY,eE[93]=eK,eE[94]=G):G=eE[94],eE[95]!==H||eE[96]!==q||eE[97]!==G?(K=(0,t.jsxs)("section",{children:[D,(0,t.jsx)("div",{className:"bg-white/5 border border-[#2c2e33] rounded-xl p-6 space-y-8",children:(0,t.jsxs)("div",{className:"space-y-4",children:[H,q,G]})})]}),eE[95]=H,eE[96]=q,eE[97]=G,eE[98]=K):K=eE[98],eE[99]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,t.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold opacity-30 mb-8",children:"Typography"}),eE[99]=Y):Y=eE[99],eE[100]!==eU?(J=()=>eU("font-mono"),eE[100]=eU,eE[101]=J):J=eE[101];let tt=`p-6 border rounded-xl transition-all text-left ${"font-mono"===eM?"border-accent bg-accent/5":"border-[#2c2e33]"}`;eE[102]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,t.jsx)("div",{className:"font-mono text-xl mb-1",children:"JetBrains Mono"}),eE[102]=Z):Z=eE[102],eE[103]!==J||eE[104]!==tt?(X=(0,t.jsx)("button",{onClick:J,className:tt,children:Z}),eE[103]=J,eE[104]=tt,eE[105]=X):X=eE[105],eE[106]!==eU?(Q=()=>eU("font-serif"),eE[106]=eU,eE[107]=Q):Q=eE[107];let ta=`p-6 border rounded-xl transition-all text-left ${"font-serif"===eM?"border-accent bg-accent/5":"border-[#2c2e33]"}`;eE[108]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,t.jsx)("div",{className:"font-serif text-xl mb-1",children:"Lora Serif"}),eE[108]=ee):ee=eE[108],eE[109]!==Q||eE[110]!==ta?(et=(0,t.jsx)("button",{onClick:Q,className:ta,children:ee}),eE[109]=Q,eE[110]=ta,eE[111]=et):et=eE[111],eE[112]!==eU?(ea=()=>eU("font-sans"),eE[112]=eU,eE[113]=ea):ea=eE[113];let ts=`p-6 border rounded-xl transition-all text-left ${"font-sans"===eM?"border-accent bg-accent/5":"border-[#2c2e33]"}`;return eE[114]===Symbol.for("react.memo_cache_sentinel")?(es=(0,t.jsx)("div",{className:"font-sans text-xl mb-1",children:"Sofia Pro"}),eE[114]=es):es=eE[114],eE[115]!==ea||eE[116]!==ts?(er=(0,t.jsx)("button",{onClick:ea,className:ts,children:es}),eE[115]=ea,eE[116]=ts,eE[117]=er):er=eE[117],eE[118]!==X||eE[119]!==et||eE[120]!==er?(en=(0,t.jsxs)("section",{children:[Y,(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[X,et,er]})]}),eE[118]=X,eE[119]=et,eE[120]=er,eE[121]=en):en=eE[121],eE[122]===Symbol.for("react.memo_cache_sentinel")?(ei=(0,t.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold opacity-30",children:"Font Size"}),eE[122]=ei):ei=eE[122],eE[123]!==ez?(ec=(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[ei,(0,t.jsxs)("span",{className:"font-mono text-accent",children:[ez,"px"]})]}),eE[123]=ez,eE[124]=ec):ec=eE[124],eE[125]!==eH?(eo=e=>eH(parseInt(e.target.value)),eE[125]=eH,eE[126]=eo):eo=eE[126],eE[127]!==ez||eE[128]!==eo?(eh=(0,t.jsx)("input",{type:"range",min:"18",max:"42",value:ez,onChange:eo,className:"w-full h-1.5 bg-[#2c2e33] rounded-lg appearance-none cursor-pointer accent-accent"}),eE[127]=ez,eE[128]=eo,eE[129]=eh):eh=eE[129],eE[130]!==ec||eE[131]!==eh?(ep=(0,t.jsxs)("section",{children:[ec,eh]}),eE[130]=ec,eE[131]=eh,eE[132]=ep):ep=eE[132],eE[133]===Symbol.for("react.memo_cache_sentinel")?(em=(0,t.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold opacity-30 mb-8",children:"Data Management"}),eE[133]=em):em=eE[133],eE[134]===Symbol.for("react.memo_cache_sentinel")?(eu=(0,t.jsx)(ed,{size:18,className:"opacity-40 group-hover:text-accent group-hover:opacity-100 transition-all rotate-180"}),eE[134]=eu):eu=eE[134],eE[135]===Symbol.for("react.memo_cache_sentinel")?(ev=(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"text-sm font-bold",children:"Export Backup"}),(0,t.jsx)("p",{className:"text-[10px] opacity-40 uppercase tracking-wider text-wrap",children:"Save your progress as ZIP"})]}),eE[135]=ev):ev=eE[135],eE[136]!==eX?(ew=(0,t.jsxs)("button",{onClick:eX,className:"flex-1 px-6 py-4 bg-white/5 hover:bg-white/10 border border-[#2c2e33] hover:border-accent/50 rounded-xl transition-all flex items-center justify-center gap-3 group",children:[eu,ev]}),eE[136]=eX,eE[137]=ew):ew=eE[137],eE[138]===Symbol.for("react.memo_cache_sentinel")?(ek=(0,t.jsx)(ed,{size:18,className:"opacity-40 group-hover:text-accent group-hover:opacity-100 transition-all"}),eE[138]=ek):ek=eE[138],eE[139]===Symbol.for("react.memo_cache_sentinel")?(eN=(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"text-sm font-bold",children:"Import Backup"}),(0,t.jsx)("p",{className:"text-[10px] opacity-40 uppercase tracking-wider text-wrap",children:"Restore from ZIP file"})]}),eE[139]=eN):eN=eE[139],eE[140]!==eQ?(eS=(0,t.jsxs)("label",{className:"flex-1 px-6 py-4 bg-white/5 hover:bg-white/10 border border-[#2c2e33] hover:border-accent/50 rounded-xl transition-all flex items-center justify-center gap-3 group cursor-pointer",children:[ek,eN,(0,t.jsx)("input",{type:"file",accept:".zip",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&eQ(t),e.target.value=""}})]}),eE[140]=eQ,eE[141]=eS):eS=eE[141],eE[142]!==ew||eE[143]!==eS?(eC=(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[ew,eS]}),eE[142]=ew,eE[143]=eS,eE[144]=eC):eC=eE[144],eE[145]===Symbol.for("react.memo_cache_sentinel")?(e_=(0,t.jsx)("p",{className:"text-[10px] opacity-30 text-center uppercase tracking-widest",children:"Backing up saves all books, progress, achievements, and settings"}),eE[145]=e_):e_=eE[145],eE[146]!==eC?(eT=(0,t.jsxs)("section",{children:[em,(0,t.jsxs)("div",{className:"bg-white/5 border border-[#2c2e33] rounded-xl p-6 space-y-6",children:[eC,e_]})]}),eE[146]=eC,eE[147]=eT):eT=eE[147],eE[148]!==b||eE[149]!==N||eE[150]!==L||eE[151]!==K||eE[152]!==en||eE[153]!==ep||eE[154]!==eT?(eI=(0,t.jsxs)("div",{className:"max-w-2xl mx-auto py-10 space-y-16 animate-in fade-in duration-500",children:[b,N,L,K,en,ep,eT]}),eE[148]=b,eE[149]=N,eE[150]=L,eE[151]=K,eE[152]=en,eE[153]=ep,eE[154]=eT,eE[155]=eI):eI=eE[155],eI}let ew=c("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ek=c("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),eN=[{name:"Speed",icon:ec,achievements:["FIRST_WORDS","SPEED_DEMON","ROCKET_FINGERS","LIGHTNING_HANDS"]},{name:"Accuracy",icon:c("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),achievements:["PERFECTIONIST","STEADY_HANDS"]},{name:"Combo",icon:J,achievements:["COMBO_STARTER","COMBO_MASTER","COMBO_LEGEND"]},{name:"Reading",icon:F,achievements:["CHAPTER_CRUSHER","BOOKWORM","BOOK_FINISHER"]},{name:"Time",icon:c("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),achievements:["NIGHT_OWL","EARLY_BIRD","MARATHON_TYPER"]},{name:"Streak",icon:c("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),achievements:["THREE_DAY_STREAK","WEEK_STREAK","MONTH_STREAK"]}];function eS(e){let a,s,r,n,i,c,o,l,d,h,p,m,u,x,f,b,g,y,j=(0,$.c)(40),{unlockedAchievements:v,stats:w}=e;if(j[0]!==v||j[1]!==w){let e;r=void 0===v?[]:v,j[5]!==w?(e=void 0===w?{}:w,j[5]=w,j[6]=e):e=j[6],a=e,s=new Set(r.map(eT)),j[0]=v,j[1]=w,j[2]=a,j[3]=s,j[4]=r}else a=j[2],s=j[3],r=j[4];let k=s,N=r.length;j[7]===Symbol.for("react.memo_cache_sentinel")?(n=Object.keys(Q),j[7]=n):n=j[7];let S=n.length;j[8]!==N?(i=S>0?Math.round(N/S*100):0,j[8]=N,j[9]=i):i=j[9];let C=i;j[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-accent/10 mb-4",children:(0,t.jsx)(D,{className:"text-accent",size:40})}),o=(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Achievements"}),j[10]=c,j[11]=o):(c=j[10],o=j[11]),j[12]!==N?(l=(0,t.jsxs)("p",{className:"text-sm opacity-50 mb-4",children:[N," / ",S," unlocked"]}),j[12]=N,j[13]=l):l=j[13];let _=`${C}%`;return j[14]!==_?(d=(0,t.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-accent to-orange-500 transition-all duration-500",style:{width:_}})}),j[14]=_,j[15]=d):d=j[15],j[16]!==C?(h=(0,t.jsxs)("p",{className:"text-xs opacity-30 mt-2",children:[C,"% Complete"]}),j[16]=C,j[17]=h):h=j[17],j[18]!==d||j[19]!==h?(p=(0,t.jsxs)("div",{className:"max-w-xs mx-auto",children:[d,h]}),j[18]=d,j[19]=h,j[20]=p):p=j[20],j[21]!==p||j[22]!==l?(m=(0,t.jsxs)("div",{className:"text-center mb-12",children:[c,o,l,p]}),j[21]=p,j[22]=l,j[23]=m):m=j[23],j[24]!==a?(u=Object.keys(a).length>0&&(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[a.totalCharsTyped&&(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-accent",children:a.totalCharsTyped.toLocaleString()}),(0,t.jsx)("p",{className:"text-xs opacity-40 uppercase tracking-wider",children:"Chars Typed"})]}),a.totalChunksCompleted&&(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-accent",children:a.totalChunksCompleted}),(0,t.jsx)("p",{className:"text-xs opacity-40 uppercase tracking-wider",children:"Chunks Done"})]}),a.bestWpm&&(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-accent",children:a.bestWpm}),(0,t.jsx)("p",{className:"text-xs opacity-40 uppercase tracking-wider",children:"Best WPM"})]}),a.bestCombo&&(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-orange-500",children:[a.bestCombo,"x"]}),(0,t.jsx)("p",{className:"text-xs opacity-40 uppercase tracking-wider",children:"Best Combo"})]})]}),j[24]=a,j[25]=u):u=j[25],j[26]!==k?(x=eN.map(e=>{let a=e.icon,s=e.achievements.map(e=>({...Q[e],isUnlocked:k.has(Q[e].id)})),r=s.filter(e_).length;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(a,{size:20,className:"text-accent"}),(0,t.jsx)("h3",{className:"text-sm font-bold uppercase tracking-widest opacity-50",children:e.name}),(0,t.jsxs)("span",{className:"text-xs opacity-30",children:[r,"/",s.length]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(eC)})]},e.name)}),j[26]=k,j[27]=x):x=j[27],j[28]!==x?(f=(0,t.jsx)("div",{className:"space-y-8",children:x}),j[28]=x,j[29]=f):f=j[29],j[30]!==N?(b=N<S&&(0,t.jsx)("div",{className:"text-center mt-12 p-6 bg-white/5 border border-white/10 rounded-xl",children:(0,t.jsxs)("p",{className:"text-sm opacity-50",children:["Keep typing to unlock more achievements!",S-N," badges waiting to be earned."]})}),j[30]=N,j[31]=b):b=j[31],j[32]!==N?(g=N===S&&(0,t.jsxs)("div",{className:"text-center mt-12 p-6 bg-gradient-to-r from-accent/20 to-orange-500/20 border border-accent/30 rounded-xl",children:[(0,t.jsx)("p",{className:"text-lg font-bold text-accent mb-2",children:"ðŸŽ‰ LEGENDARY STATUS ACHIEVED! ðŸŽ‰"}),(0,t.jsx)("p",{className:"text-sm opacity-60",children:"You've unlocked every achievement. You are a true typing master!"})]}),j[32]=N,j[33]=g):g=j[33],j[34]!==m||j[35]!==u||j[36]!==f||j[37]!==b||j[38]!==g?(y=(0,t.jsxs)("div",{className:"max-w-4xl mx-auto py-10 animate-in fade-in duration-500",children:[m,u,f,b,g]}),j[34]=m,j[35]=u,j[36]=f,j[37]=b,j[38]=g,j[39]=y):y=j[39],y}function eC(e){return(0,t.jsxs)("div",{className:`relative p-4 rounded-xl border transition-all ${e.isUnlocked?"bg-accent/10 border-accent/30":"bg-white/5 border-white/10 opacity-50"}`,children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`text-3xl ${e.isUnlocked?"":"grayscale opacity-30"}`,children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-bold text-sm truncate",children:e.name}),!e.isUnlocked&&(0,t.jsx)(ew,{size:12,className:"opacity-30 flex-shrink-0"})]}),(0,t.jsx)("p",{className:"text-xs opacity-50 mt-1",children:e.description})]})]}),e.isUnlocked&&(0,t.jsx)("div",{className:"absolute top-2 right-2",children:(0,t.jsx)(ek,{size:14,className:"text-accent fill-accent"})})]},e.id)}function e_(e){return e.isUnlocked}function eT(e){return e.id}let eI=c("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eE=c("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),eA=c("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function eR(e){let s,r,n,i,c,o,l,d,h,p,m,u,x,f,b,g,y,j,v,w,k,N,S,C,_,T,I,E,A,R,z,M,P,F,O,B,L,W,U,H,q=(0,$.c)(90),{isOpen:G,onClose:K,data:V}=e,Y=(0,a.useRef)(null);if(!G||!V)return null;if(q[0]!==V)s={title:es[Math.floor(Math.random()*es.length)],quote:er[Math.floor(Math.random()*er.length)],recipientName:V.bookTitle||"Unknown Challenge",completedAt:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),stats:{wpm:V.wpm,accuracy:V.accuracy,totalChars:V.totalChars,totalChapters:V.totalChapters},certificateId:`LT-${Date.now().toString(36).toUpperCase()}`},q[0]=V,q[1]=s;else s=q[1];let J=s;q[2]!==V.wpm?(r=X(V.wpm),q[2]=V.wpm,q[3]=r):r=q[3];let Z=r;q[4]!==J.certificateId||q[5]!==J.completedAt||q[6]!==J.quote||q[7]!==J.title||q[8]!==V.accuracy||q[9]!==V.bookTitle||q[10]!==V.totalChapters||q[11]!==V.totalChars||q[12]!==V.wpm||q[13]!==Z.animal?(n=async()=>{let e=new Blob([`
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    CERTIFICATE OF COMPLETION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                          ${J.title}

    This certifies that on ${J.completedAt}

    A brave soul has completed:
    "${V.bookTitle}"

    ${J.quote}

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Speed: ${V.wpm} WPM ${Z.animal}
    â”‚  Accuracy: ${V.accuracy}%
    â”‚  Total Characters: ${V.totalChars?.toLocaleString()||"N/A"}
    â”‚  Chapters Conquered: ${V.totalChapters||"N/A"}
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Certificate ID: ${J.certificateId}

                    Powered by LuminaType
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `.trim()],{type:"text/plain"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=`LuminaType-Certificate-${J.certificateId}.txt`,a.click(),URL.revokeObjectURL(t)},q[4]=J.certificateId,q[5]=J.completedAt,q[6]=J.quote,q[7]=J.title,q[8]=V.accuracy,q[9]=V.bookTitle,q[10]=V.totalChapters,q[11]=V.totalChars,q[12]=V.wpm,q[13]=Z.animal,q[14]=n):n=q[14];let Q=n;q[15]!==J.quote||q[16]!==V.accuracy||q[17]!==V.bookTitle||q[18]!==V.wpm||q[19]!==Z.animal?(i=async()=>{let e=`ðŸ† I just completed "${V.bookTitle}" on LuminaType!

${Z.animal} ${V.wpm} WPM | ${V.accuracy}% Accuracy

${J.quote}

#LuminaType #TypingPractice`;if(navigator.share)try{await navigator.share({title:"LuminaType Certificate",text:e})}catch(t){navigator.clipboard.writeText(e),alert("Copied to clipboard!")}else navigator.clipboard.writeText(e),alert("Copied to clipboard!")},q[15]=J.quote,q[16]=V.accuracy,q[17]=V.bookTitle,q[18]=V.wpm,q[19]=Z.animal,q[20]=i):i=q[20];let ee=i;return q[21]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(eI,{size:24}),q[21]=c):c=q[21],q[22]!==K?(o=(0,t.jsx)("button",{onClick:K,className:"absolute -top-12 right-0 p-2 opacity-50 hover:opacity-100 transition-opacity",children:c}),q[22]=K,q[23]=o):o=q[23],q[24]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("div",{className:"absolute top-4 left-4 w-8 h-8 border-l-2 border-t-2 border-accent/30"}),h=(0,t.jsx)("div",{className:"absolute top-4 right-4 w-8 h-8 border-r-2 border-t-2 border-accent/30"}),p=(0,t.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 border-l-2 border-b-2 border-accent/30"}),l=(0,t.jsx)("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-r-2 border-b-2 border-accent/30"}),q[24]=l,q[25]=d,q[26]=h,q[27]=p):(l=q[24],d=q[25],h=q[26],p=q[27]),q[28]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsxs)("div",{className:"flex justify-center gap-2 mb-2",children:[(0,t.jsx)(ek,{className:"text-accent",size:20}),(0,t.jsx)(ek,{className:"text-accent",size:24}),(0,t.jsx)(ek,{className:"text-accent",size:20})]}),u=(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] opacity-40 mb-1",children:"Certificate of Completion"}),q[28]=m,q[29]=u):(m=q[28],u=q[29]),q[30]!==J.title?(x=(0,t.jsxs)("div",{className:"text-center mb-6",children:[m,u,(0,t.jsx)("h1",{className:"text-2xl font-bold text-accent",children:J.title})]}),q[30]=J.title,q[31]=x):x=q[31],q[32]!==Z.animal?(f=(0,t.jsx)("span",{className:"text-6xl",children:Z.animal}),q[32]=Z.animal,q[33]=f):f=q[33],q[34]!==Z.name?(b=(0,t.jsx)("p",{className:"text-sm text-accent mt-1",children:Z.name}),q[34]=Z.name,q[35]=b):b=q[35],q[36]!==f||q[37]!==b?(g=(0,t.jsxs)("div",{className:"text-center mb-4",children:[f,b]}),q[36]=f,q[37]=b,q[38]=g):g=q[38],q[39]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)("p",{className:"text-xs opacity-40 uppercase tracking-wider mb-1",children:"Has Conquered"}),q[39]=y):y=q[39],q[40]!==V.bookTitle?(j=(0,t.jsxs)("div",{className:"text-center mb-6",children:[y,(0,t.jsxs)("h2",{className:"text-xl font-serif italic opacity-90",children:['"',V.bookTitle,'"']})]}),q[40]=V.bookTitle,q[41]=j):j=q[41],q[42]!==J.quote?(v=(0,t.jsxs)("p",{className:"text-center text-sm opacity-60 italic mb-6 px-8",children:['"',J.quote,'"']}),q[42]=J.quote,q[43]=v):v=q[43],q[44]!==V.wpm?(w=(0,t.jsx)("p",{className:"text-3xl font-bold text-accent",children:V.wpm}),q[44]=V.wpm,q[45]=w):w=q[45],q[46]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider opacity-40",children:"WPM"}),q[46]=k):k=q[46],q[47]!==w?(N=(0,t.jsxs)("div",{className:"text-center",children:[w,k]}),q[47]=w,q[48]=N):N=q[48],q[49]!==V.accuracy?(S=(0,t.jsxs)("p",{className:"text-3xl font-bold text-accent",children:[V.accuracy,"%"]}),q[49]=V.accuracy,q[50]=S):S=q[50],q[51]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider opacity-40",children:"Accuracy"}),q[51]=C):C=q[51],q[52]!==S?(_=(0,t.jsxs)("div",{className:"text-center",children:[S,C]}),q[52]=S,q[53]=_):_=q[53],q[54]!==V.totalChapters?(T=V.totalChapters&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-accent",children:V.totalChapters}),(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider opacity-40",children:"Chapters"})]}),q[54]=V.totalChapters,q[55]=T):T=q[55],q[56]!==N||q[57]!==_||q[58]!==T?(I=(0,t.jsxs)("div",{className:"flex justify-center gap-8 mb-6",children:[N,_,T]}),q[56]=N,q[57]=_,q[58]=T,q[59]=I):I=q[59],q[60]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsx)("p",{className:"text-[10px] opacity-30",children:"Certificate ID"}),q[60]=E):E=q[60],q[61]!==J.certificateId?(A=(0,t.jsxs)("div",{children:[E,(0,t.jsx)("p",{className:"text-xs font-mono opacity-50",children:J.certificateId})]}),q[61]=J.certificateId,q[62]=A):A=q[62],q[63]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D,{className:"text-accent",size:16}),(0,t.jsx)("span",{className:"text-sm font-bold",children:"LuminaType"})]}),q[63]=R):R=q[63],q[64]===Symbol.for("react.memo_cache_sentinel")?(z=(0,t.jsx)("p",{className:"text-[10px] opacity-30",children:"Issued On"}),q[64]=z):z=q[64],q[65]!==J.completedAt?(M=(0,t.jsxs)("div",{className:"text-right",children:[z,(0,t.jsx)("p",{className:"text-xs opacity-50",children:J.completedAt})]}),q[65]=J.completedAt,q[66]=M):M=q[66],q[67]!==A||q[68]!==M?(P=(0,t.jsxs)("div",{className:"flex justify-between items-end pt-4 border-t border-white/10",children:[A,R,M]}),q[67]=A,q[68]=M,q[69]=P):P=q[69],q[70]!==x||q[71]!==g||q[72]!==j||q[73]!==v||q[74]!==I||q[75]!==P?(F=(0,t.jsxs)("div",{ref:Y,className:"relative bg-gradient-to-br from-[#1a1b1e] via-[#252629] to-[#1a1b1e] border-4 border-double border-accent/50 rounded-lg p-8 shadow-2xl",children:[d,h,p,l,x,g,j,v,I,P]}),q[70]=x,q[71]=g,q[72]=j,q[73]=v,q[74]=I,q[75]=P,q[76]=F):F=q[76],q[77]===Symbol.for("react.memo_cache_sentinel")?(O=(0,t.jsx)(eE,{size:18}),q[77]=O):O=q[77],q[78]!==Q?(B=(0,t.jsxs)("button",{onClick:Q,className:"flex items-center gap-2 px-6 py-3 bg-accent text-[#1a1b1e] rounded-xl hover:scale-105 active:scale-95 transition-all font-bold text-sm",children:[O,"Download"]}),q[78]=Q,q[79]=B):B=q[79],q[80]===Symbol.for("react.memo_cache_sentinel")?(L=(0,t.jsx)(eA,{size:18}),q[80]=L):L=q[80],q[81]!==ee?(W=(0,t.jsxs)("button",{onClick:ee,className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all font-bold text-sm",children:[L,"Share"]}),q[81]=ee,q[82]=W):W=q[82],q[83]!==B||q[84]!==W?(U=(0,t.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[B,W]}),q[83]=B,q[84]=W,q[85]=U):U=q[85],q[86]!==F||q[87]!==U||q[88]!==o?(H=(0,t.jsx)("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md z-[60] flex items-center justify-center p-4 animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"relative max-w-2xl w-full",children:[o,F,U]})}),q[86]=F,q[87]=U,q[88]=o,q[89]=H):H=q[89],H}let ez="The written  word is a powerful tool for self-discovery and connection. As you type these letters, notice the rhythm of your thoughts and the steady flow of language. Every keystroke is a step toward mastery.",eM="luminatype_settings",e$={isDark:!0,fontSize:24,fontFamily:"font-mono",soundEnabled:!0,volume:.5,blurEnabled:!0,backgroundImage:null,backgroundOpacity:.3,backgroundBlur:0,ignoreCaps:!1,autoSkipChars:""},eP=()=>new Promise((e,t)=>{if(window.JSZip||document.querySelector('script[src="/subi-typing/libs/jszip.min.js"]'))return e();let a=document.createElement("script");a.src="/subi-typing/libs/jszip.min.js",a.onload=e,a.onerror=t,document.head.appendChild(a)});function eF(){let e,s,r,n,[i,c]=(0,a.useState)("practice"),[d,h]=(0,a.useState)(!1),[p,m]=(0,a.useState)([]),[u,f]=(0,a.useState)([]),[$,P]=(0,a.useState)({}),[F,O]=(0,a.useState)(null),[B,L]=(0,a.useState)(!1),[D,U]=(0,a.useState)(""),[H,q]=(0,a.useState)(!0),[G,K]=(0,a.useState)(24),[V,Y]=(0,a.useState)("font-mono"),[J,Z]=(0,a.useState)(!0),[X,Q]=(0,a.useState)(.5),[ee,et]=(0,a.useState)(!0),[ea,es]=(0,a.useState)(null),[er,ei]=(0,a.useState)(.3),[ec,eo]=(0,a.useState)(0),[el,ed]=(0,a.useState)(!1),[eh,ep]=(0,a.useState)(""),[em,ex]=(0,a.useState)(ez),[ef,eb]=(0,a.useState)(""),[eg,ey]=(0,a.useState)(null),[ej,ew]=(0,a.useState)(0),[ek,eN]=(0,a.useState)(100),[eC,e_]=(0,a.useState)(!1),[eT,eI]=(0,a.useState)([ez]),[eE,eA]=(0,a.useState)(0),[eF,eO]=(0,a.useState)(null),[eB,eL]=(0,a.useState)({chapterIndex:0,chunkIndex:0,charIndex:0}),[eD,eW]=(0,a.useState)(0),[eU,eH]=(0,a.useState)(0),[eq,eG]=(0,a.useState)(0),[eK,eV]=(0,a.useState)(!1),[eY,eJ]=(0,a.useState)(0),[eZ,eX]=(0,a.useState)([]),[eQ,e0]=(0,a.useState)({}),[e1,e3]=(0,a.useState)(null),[e5,e2]=(0,a.useState)(!1),e4=(0,a.useRef)(null),e8=(0,a.useRef)(null),e9=(0,a.useRef)(!1),e6=(0,a.useRef)(null),e7=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(e9.current)return;e9.current=!0;let e=(()=>{try{let e=localStorage.getItem(eM);if(e)return{...e$,...JSON.parse(e)}}catch(e){console.warn("Failed to load settings:",e)}return e$})();q(e.isDark),K(e.fontSize),Y(e.fontFamily),Z(e.soundEnabled),Q(e.volume),et(e.blurEnabled),es(e.backgroundImage),ei(e.backgroundOpacity),eo(e.backgroundBlur),ed(e.ignoreCaps),ep(e.autoSkipChars)},[]),(0,a.useEffect)(()=>{if(e9.current)try{localStorage.setItem(eM,JSON.stringify({isDark:H,fontSize:G,fontFamily:V,soundEnabled:J,volume:X,blurEnabled:ee,backgroundImage:ea,backgroundOpacity:er,backgroundBlur:ec,ignoreCaps:el,autoSkipChars:eh}))}catch(e){console.warn("Failed to save settings:",e)}},[H,G,V,J,X,ee,ea,er,ec,el,eh]);let te=(0,a.useCallback)((e,t="success")=>{O({msg:e,type:t}),setTimeout(()=>O(null),3e3)},[]),tt=(0,a.useCallback)(async()=>{try{let e=await S(),t={};e.forEach(e=>{t[e.bookId]=e}),P(t)}catch(e){console.warn("Failed to load reading progress:",e)}},[]),ta=(0,a.useCallback)((e=!1)=>{if(!eF||"epub"!==eF.type||!eF.bookId)return;e6.current&&clearTimeout(e6.current);let t=async()=>{try{await N(eF.bookId,{chapterIndex:eB.chapterIndex,chunkIndex:eB.chunkIndex,charIndex:eB.charIndex,totalChapters:eF.totalChapters,totalChunks:eT.length,chapterTitle:eF.chapterTitle}),P(e=>({...e,[eF.bookId]:{bookId:eF.bookId,chapterIndex:eB.chapterIndex,chunkIndex:eB.chunkIndex,charIndex:eB.charIndex,totalChapters:eF.totalChapters,totalChunks:eT.length,chapterTitle:eF.chapterTitle,updatedAt:Date.now()}}))}catch(e){console.warn("Failed to save progress:",e)}};e?t():e6.current=setTimeout(t,1e3)},[eF,eB,eT.length]),ts=(0,a.useCallback)((e,t=null,a=0,s=0)=>{let r=function(e,t=500){if(!e||e.length<=t)return[e];let a=[],s=e.trim();for(;s.length>0;){if(s.length<=800){a.push(s.trim());break}let e=function(e,t){let a=Math.max(0,t-100),s=Math.min(e.length,t+100),r=e.slice(a,s),n=r.lastIndexOf("\n\n");if(-1!==n&&n>50)return a+n+2;let i=-1;for(let e of[". ","! ","? ",'." ','!" ','?" ']){let t=r.lastIndexOf(e);-1!==t&&t>i&&(i=t)}if(-1!==i&&i>30)return a+i+2;let c=Math.max(r.lastIndexOf(", "),r.lastIndexOf("; "));if(-1!==c&&c>30)return a+c+2;let o=r.lastIndexOf(" ");return -1!==o?a+o+1:t}(s,t),r=s.slice(0,e).trim();r.length>=200?a.push(r):a.length>0?a[a.length-1]+=" "+r:a.push(r),s=s.slice(e).trim()}return a.filter(e=>e.length>0)}(e,500),n=Math.min(a,r.length-1);eI(r),eA(n),ex(r[n]),eb(""),ey(null),ew(0),eN(100),e_(!1),eO(t),c("practice"),eW(0),eH(0),eG(0),t?.type==="epub"&&eL({chapterIndex:t.chapterIndex,chunkIndex:n,charIndex:s}),e8.current?.ctx.state==="suspended"&&e8.current.ctx.resume()},[]),tr=(0,a.useCallback)((e,t)=>{if(!t||!e.chapters)return;let a=Math.min(t.chapterIndex,e.chapters.length-1),s=e.chapters[a];ts(s.content,{type:"epub",bookId:e.id,bookTitle:e.title,chapterTitle:s.title,chapterIndex:a,totalChapters:e.chapters.length,chapters:e.chapters},t.chunkIndex||0,t.charIndex||0),te(`Resumed: Ch.${a+1}, Chunk ${(t.chunkIndex||0)+1}`)},[ts,te]),tn=(0,a.useCallback)((e,t=!1)=>{e<0||e>=eT.length||(eA(e),ex(eT[e]),eb(""),ey(null),ew(0),eN(100),e_(!1),eW(0),eG(0),e4.current?.focus(),t&&eF?.type==="epub"&&eL(t=>({...t,chunkIndex:e,charIndex:0})))},[eT,eF]),ti=(0,a.useCallback)((e=!1)=>{eE<eT.length-1&&(tn(eE+1,e),te(`Chunk ${eE+2} of ${eT.length}`),e&&eF?.type==="epub"&&eL(e=>({...e,chunkIndex:eE+1,charIndex:0})))},[eE,eT.length,tn,te,eF]),tc=(0,a.useCallback)(()=>{eE>0&&(tn(eE-1,!1),te(`Chunk ${eE} of ${eT.length}`))},[eE,eT.length,tn,te]),to=(0,a.useCallback)(()=>{eb(""),ey(null),ew(0),eN(100),e_(!1),eW(0),eH(0),eG(0),e4.current?.focus()},[]),tl=(0,a.useCallback)(async()=>{try{let[e,t]=await Promise.all([_(),A()]);eX(e),e0(t)}catch(e){console.warn("Failed to load achievements:",e)}},[]),td=(0,a.useCallback)(async(e,t,a,s)=>{let r=[];e>=60&&await C("speed_demon")&&r.push({id:"speed_demon",name:"Speed Demon",icon:"ðŸ˜ˆ"}),e>=80&&await C("rocket_fingers")&&r.push({id:"rocket_fingers",name:"Rocket Fingers",icon:"ðŸš€"}),e>=100&&await C("lightning_hands")&&r.push({id:"lightning_hands",name:"Lightning Hands",icon:"âš¡"}),s&&100===t&&await C("perfectionist")&&r.push({id:"perfectionist",name:"Perfectionist",icon:"ðŸ’Ž"}),a>=10&&await C("combo_starter")&&r.push({id:"combo_starter",name:"Combo Starter",icon:"ðŸ”¥"}),a>=50&&await C("combo_master")&&r.push({id:"combo_master",name:"Combo Master",icon:"ðŸ’¥"}),a>=100&&await C("combo_legend")&&r.push({id:"combo_legend",name:"Combo Legend",icon:"ðŸŒ‹"}),s&&await C("first_words")&&r.push({id:"first_words",name:"First Steps",icon:"ðŸ‘¶"});let n=new Date().getHours();if(n>=0&&n<5&&await C("night_owl")&&r.push({id:"night_owl",name:"Night Owl",icon:"ðŸ¦‰"}),n>=5&&n<7&&await C("early_bird")&&r.push({id:"early_bird",name:"Early Bird",icon:"ðŸ¦"}),r.length>0&&(e3(r[0]),setTimeout(()=>e3(null),3e3),tl()),s){let t=await I("bestWpm");(!t||e>t)&&await T("bestWpm",e);let s=await I("bestCombo");(!s||a>s)&&await T("bestCombo",a),await E("totalChunksCompleted")}},[tl]);(0,a.useEffect)(()=>{(async()=>{try{e8.current=new l,await new Promise((e,t)=>{if(window.Dexie||document.querySelector('script[src="/subi-typing/libs/dexie.min.js"]'))return e();let a=document.createElement("script");a.src="/subi-typing/libs/dexie.min.js",a.onload=e,a.onerror=t,document.head.appendChild(a)}),await eP(),await b();let[e,t]=await Promise.all([j(),v()]);m(e),f(t),await tt(),await tl(),h(!0)}catch(e){console.error(e),te("Failed to initialize","error")}})()},[te,tt,tl]),(0,a.useEffect)(()=>{e8.current&&(e8.current.setEnabled(J),e8.current.setVolume(X))},[J,X]);let th=(0,a.useCallback)((e,t)=>!!e&&!!t&&(el?e.toLowerCase()===t.toLowerCase():e===t),[el]);(0,a.useEffect)(()=>{if(1!==ef.length||eg||ey(Date.now()),ef.length>0&&!eC){let e=th(ef[ef.length-1],em[ef.length-1]);e8.current?.playKey(!e),e?(eW(e=>{let t=e+1;return eH(e=>Math.max(e,t)),t}),e7.current&&clearTimeout(e7.current),e7.current=setTimeout(()=>{eG(e=>Math.max(0,e-1))},100)):(eW(0),eG(e=>Math.min(15,e+1))),ew(function(e,t){if(!t||0===e.length)return 0;let a=(Date.now()-t)/6e4;return Math.round(e.length/5/a)||0}(ef,eg));let t=ef.split("").filter((e,t)=>th(e,em[t])).length;eN(ef.length>0?Math.round(t/ef.length*100):100),eF?.type==="epub"&&eL(e=>({...e,charIndex:ef.length}))}ef.length===em.length&&em.length>0&&!eC&&(e_(!0),e8.current?.playSuccess(),eJ(e=>e+em.length),td(ej,Math.round(ef.split("").filter((e,t)=>th(e,em[t])).length/ef.length*100),eU,!0),E("totalCharsTyped",em.length),eF?.type==="epub"&&eE>=eT.length-1&&eL(e=>({...e,charIndex:em.length})))},[ef,eg,em,eC,th,eF,eE,eT.length,td]),(0,a.useEffect)(()=>{eF?.type==="epub"&&eF.bookId&&ef.length>0&&ta()},[eB,ta,eF,ef.length]),(0,a.useEffect)(()=>{let e=e=>{e5||"practice"!==i||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||["Shift","Control","Alt","Meta"].includes(e.key)||(e2(!0),e8.current?.ctx.resume(),e8.current?.playStart(),setTimeout(()=>{e4.current?.focus()},10))},t=()=>{"practice"===i&&e2(!1)},a=()=>{};return window.addEventListener("keydown",e),window.addEventListener("blur",t),window.addEventListener("focus",a),()=>{window.removeEventListener("keydown",e),window.removeEventListener("blur",t),window.removeEventListener("focus",a)}},[e5,i]),(0,a.useEffect)(()=>{"practice"!==i&&e2(!1)},[i]),(0,a.useEffect)(()=>()=>{e6.current&&clearTimeout(e6.current),e7.current&&clearTimeout(e7.current)},[]);let tp=(0,a.useMemo)(()=>{if(!eF||"epub"!==eF.type||!eF.chapters)return null;let e=eF.totalChapters,t=eF.chapterIndex,a=eT.length,s=0,r=0;for(let n=0;n<e;n++){let e=eF.chapters[n],i=e?.content?.length||0;r+=i,n<t?s+=i:n===t&&(s+=Math.floor(eE/a*i))}let n=e-t-1;return{percentage:r>0?s/r*100:0,completedChapters:t,totalChapters:e,estimatedRemaining:n>0?`${n} chapter${n>1?"s":""}`:"Almost done!"}},[eF,eE,eT.length]),tm=(0,a.useMemo)(()=>eF?{bookTitle:eF.bookTitle||"Typing Challenge",wpm:ej,accuracy:ek,totalChars:eY,totalChapters:eF.totalChapters}:null,[eF,ej,ek,eY]),tu=(0,a.useCallback)(()=>{eV(!0)},[]),tx=async()=>{if(D.trim()){L(!0);try{let e=await M(D),t={title:`âœ¨ AI: ${D}`,author:"Gemini",content:e,type:"ai"};await g(t),m(await j()),U(""),te("AI Snippet Generated!")}catch(e){te("AI Error","error")}finally{L(!1)}}},tf=async(e,t)=>{try{let a=await x(e,t);await y(a),f(await v()),te(`"${a.title}" imported with ${a.chapterCount} chapters!`)}catch(e){console.error(e),te(e.message||"Failed to parse EPUB","error")}},tb=(0,a.useCallback)((e,t)=>{let a=e.chapters[t];ts(a.content,{type:"epub",bookId:e.id,bookTitle:e.title,chapterTitle:a.title,chapterIndex:t,totalChapters:e.chapters.length,chapters:e.chapters},0,0)},[ts]),tg=async(e,t="normal")=>{"epub"===t?(await k(e),f(await v()),P(t=>{let a={...t};return delete a[e],a})):(await w(e),m(await j())),te("Book deleted")},ty=(0,a.useCallback)(e=>{let t=$[e.id];t&&(t.chapterIndex>0||t.chunkIndex>0||t.charIndex>0)?tr(e,t):tb(e,0)},[$,tr,tb]),tj=(0,a.useCallback)(e=>{let t=$[e.id];t&&tr(e,t)},[$,tr]),tv=(0,a.useCallback)(e=>{tb(e,0)},[tb]),tw=(0,a.useCallback)(()=>{if(!eF||"epub"!==eF.type)return;let e=eF.chapterIndex+1;if(e<eF.totalChapters){let t=eF.chapters[e];ts(t.content,{...eF,chapterTitle:t.title,chapterIndex:e},0,0),eL({chapterIndex:e,chunkIndex:0,charIndex:0}),te(`Chapter ${e+1}: ${t.title}`)}},[eF,ts,te]),tk=(0,a.useCallback)(()=>{if(!eF||"epub"!==eF.type)return;let e=eF.chapterIndex-1;if(e>=0){let t=eF.chapters[e];ts(t.content,{...eF,chapterTitle:t.title,chapterIndex:e},0,0),te(`Chapter ${e+1}: ${t.title}`)}},[eF,ts,te]),tN=async()=>{try{await eP();let e=new window.JSZip,t=await R(),{data:a}=t;e.file("settings.json",JSON.stringify(a.settings,null,2)),e.file("achievements.json",JSON.stringify(a.achievements,null,2)),e.file("stats.json",JSON.stringify(a.stats,null,2)),e.file("progress.json",JSON.stringify(a.readingProgress,null,2)),e.file("books.json",JSON.stringify(a.books,null,2)),e.file("epub_books.json",JSON.stringify(a.epubBooks,null,2)),e.file("metadata.json",JSON.stringify({version:t.version,timestamp:t.timestamp,exportedAt:new Date().toISOString()},null,2));let s=await e.generateAsync({type:"blob"}),r=URL.createObjectURL(s),n=document.createElement("a"),i=new Date,c=i.toISOString().split("T")[0],o=i.toTimeString().split(" ")[0].replace(/:/g,"-");n.href=r,n.download=`luminatype-backup-${c}-${o}.zip`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),te("Backup ZIP exported successfully!")}catch(e){console.error(e),te("Failed to export ZIP backup","error")}},tS=async e=>{try{await eP();let t=await window.JSZip.loadAsync(e),a={};for(let[e,s]of Object.entries({settings:"settings.json",achievements:"achievements.json",stats:"stats.json",readingProgress:"progress.json",books:"books.json",epubBooks:"epub_books.json"})){let r=await t.file(s)?.async("string");a[e]=r?JSON.parse(r):null}confirm("Importing data will replace all your current progress, books, and settings from the ZIP backup. Are you sure?")&&(await z({data:a}),te("Data imported from ZIP! Reloading..."),setTimeout(()=>{window.location.reload()},1500))}catch(e){console.error(e),te("Invalid backup ZIP file","error")}},tC=(0,a.useCallback)(()=>{ti(!0)},[ti]),t_=(0,a.useCallback)(e=>{el&&e.length>ef.length?eb(e.split("").map((e,t)=>{let a=em[t];return a&&e.toLowerCase()===a.toLowerCase()?a:e}).join("")):eb(e)},[el,ef.length,em]),tT=(e=eT.length,s=eT.reduce((e,t)=>e+t.length,0),r=eT.slice(0,eE).reduce((e,t)=>e+t.length,0),n=eT[eE]||"",{current:eE+1,total:e,currentChunk:n,currentLength:n.length,totalChars:s,completedChars:r,progress:s>0?r/s*100:0,hasNext:eE<e-1,hasPrev:eE>0}),tI=H?"#1a1b1e":"#f8f9fa",tE=H?"#d1d0c5":"#444444";return(0,t.jsxs)("div",{className:"min-h-screen transition-colors duration-300 font-sans relative",style:{backgroundColor:tI,color:tE},children:[ea&&(0,t.jsx)("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat pointer-events-none",style:{backgroundImage:`url(${ea})`,opacity:er,filter:ec>0?`blur(${ec}px)`:"none",transform:ec>0?"scale(1.1)":"none"}}),ea&&(0,t.jsx)("div",{className:"fixed inset-0 z-0 pointer-events-none",style:{backgroundColor:tI,opacity:.7}}),(0,t.jsx)("style",{children:`
        :root {
          --accent: ${H?"#e2b714":"#2563eb"};
          --border: ${H?"#2c2e33":"#e5e7eb"};
          --background: ${tI};
          --foreground: ${tE};
        }
        .text-accent { color: var(--accent); }
        .bg-accent { background-color: var(--accent); }

        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        @keyframes zoom-in-95 { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes slide-in-from-bottom-4 { from { transform: translateY(16px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes slide-in-from-top-4 { from { transform: translateX(-50%) translateY(-16px); opacity: 0; } to { transform: translateX(-50%) translateY(0); opacity: 1; } }
        .animate-in { animation-duration: 300ms; animation-fill-mode: both; }
        .fade-in { animation-name: fade-in; }
        .zoom-in-95 { animation-name: zoom-in-95; }
        .slide-in-from-bottom-4 { animation-name: slide-in-from-bottom-4; }
        .slide-in-from-top-4 { animation-name: slide-in-from-top-4; }
      `}),(0,t.jsxs)("div",{className:"relative z-10",children:[F&&(0,t.jsxs)("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-2xl border backdrop-blur-sm ${"error"===F.type?"bg-red-900/80 border-red-500 text-red-200":"bg-green-900/80 border-green-500 text-green-200"}`,children:[(0,t.jsx)(o,{size:18})," ",(0,t.jsx)("span",{className:"text-sm font-medium",children:F.msg})]}),e1&&(0,t.jsx)("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-top-4 fade-in duration-300",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 px-6 py-4 bg-gradient-to-r from-accent/90 to-orange-500/90 text-[#1a1b1e] rounded-xl shadow-2xl",children:[(0,t.jsx)("span",{className:"text-4xl",children:e1.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider opacity-80",children:"Achievement Unlocked!"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:e1.name})]})]})}),(0,t.jsx)(W,{view:i,setView:c,isDark:H,setIsDark:q}),(0,t.jsxs)("main",{className:"px-8 mt-12 max-w-7xl mx-auto pb-24",children:["practice"===i&&(0,t.jsxs)(t.Fragment,{children:[!e5&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-[#1a1b1e]/60 backdrop-blur-[2px] cursor-pointer animate-in fade-in duration-500",onClick:()=>{e2(!0),e8.current?.ctx.resume(),e8.current?.playStart(),setTimeout(()=>e4.current?.focus(),10)},children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-6 group",children:[(0,t.jsx)("div",{className:"px-8 py-4 bg-white/5 border border-white/10 rounded-2xl shadow-2xl group-hover:bg-white/10 group-hover:border-accent/30 transition-all duration-300",children:(0,t.jsx)("p",{className:"text-xl font-bold uppercase tracking-[0.4em] opacity-40 group-hover:opacity-100 group-hover:text-accent transition-all animate-pulse",children:ef.length>0?"Press Any Key to Continue":"Press Any Key to Start"})}),(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-widest opacity-20",children:"mechanical switch synthesis ready"})]})}),(0,t.jsx)(en,{text:em,userInput:ef,wpm:ej,accuracy:ek,isFinished:eC,fontSize:G,fontFamily:V,blurEnabled:ee,ignoreCaps:el,autoSkipChars:eh,inputRef:e4,onInputChange:e=>{e5||e2(!0),t_(e)},onRestart:to,chunkInfo:tT,sourceInfo:eF,onNextChunk:tC,onPrevChunk:tc,onNextChapter:tw,onPrevChapter:tk,combo:eD,maxCombo:eU,recentErrors:eq,bookProgress:tp,onShowCertificate:tu,totalStats:{totalTypedChars:eY}})]}),"library"===i&&(0,t.jsx)(eu,{books:p,epubBooks:u,readingProgressMap:$,prompt:D,isGenerating:B,onPromptChange:U,onGenerate:tx,onSelectBook:e=>ts(e.content,{type:"ai",bookTitle:e.title}),onDeleteBook:tg,onUploadEpub:tf,onSelectChapter:tb,onSelectEpubBook:ty,onResumeBook:tj,onStartFromBeginning:tv}),"achievements"===i&&(0,t.jsx)(eS,{unlockedAchievements:eZ,stats:eQ}),"settings"===i&&(0,t.jsx)(ev,{soundEnabled:J,volume:X,fontSize:G,fontFamily:V,blurEnabled:ee,backgroundImage:ea,backgroundOpacity:er,backgroundBlur:ec,ignoreCaps:el,autoSkipChars:eh,onSoundToggle:()=>{Z(!J),J||e8.current?.ctx.resume()},onVolumeChange:Q,onFontFamilyChange:Y,onFontSizeChange:K,onBlurToggle:()=>et(!ee),onBackgroundImageChange:es,onBackgroundOpacityChange:ei,onBackgroundBlurChange:eo,onBackgroundImageRemove:()=>es(null),onIgnoreCapsToggle:()=>ed(!el),onAutoSkipCharsChange:ep,onExportData:tN,onImportData:tS})]}),(0,t.jsx)("footer",{className:"fixed bottom-10 left-0 right-0 pointer-events-none",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-8 flex justify-center",children:(0,t.jsx)("div",{className:"px-4 py-2 bg-black/20 rounded-full border border-white/5 backdrop-blur-md",children:(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] font-bold opacity-20 text-center",children:"Press Any Key to Focus â€¢ Shift + Enter to Restart â€¢ Arrow Keys for Chunks"})})})}),(0,t.jsx)(eR,{isOpen:eK,onClose:()=>eV(!1),data:tm})]})]})}e.s(["default",()=>eF],74647)}]);